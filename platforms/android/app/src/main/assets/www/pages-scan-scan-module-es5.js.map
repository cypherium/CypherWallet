{"version":3,"sources":["src/app/pages/scan/scan.page.html","src/app/pages/scan/scan.module.ts","src/app/pages/scan/scan.page.scss","src/app/pages/scan/scan.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-title>{{ 'SCAN' | translate }}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [ngClass]=\\\"{'qrscanner':isShow}\\\">\\n    <div class=\\\"area\\\"></div>\\n    <div class=\\\"line\\\"></div>\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"showIcon\\\">\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"close()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/close.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">CANCEL</span>\\n    </div>\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"toggleLight()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/flashlight.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">TORCH</span>\\n    </div>\\n</ion-footer>\\n\\n<app-alert [title]=\\\"alertTitle\\\" [desc]=\\\"alertDesc\\\" *ngIf=\\\"ifShowAlert\\\" cancelText=\\\"{{ 'CANCEL' | translate }}\\\"\\n    (cancel)=\\\"cancelAlert()\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (confirm)=\\\"confirmAlert()\\\">\\n</app-alert>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanPage } from './scan.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ScanPage]\n})\nexport class ScanPageModule { }\n","export default \"ion-app.cameraView,\\nion-app.cameraView .nav-decor {\\n  background: transparent none !important;\\n}\\nion-app.cameraView .tabbar.show-tabbar,\\nion-app.cameraView .nav-decor .tabbar.show-tabbar {\\n  opacity: 0;\\n}\\nion-app.cameraView ion-content {\\n  --background: transparent none !important;\\n}\\n.qrscanner {\\n  background: none;\\n}\\n.qrscanner .area {\\n  margin-top: 30px;\\n  width: 100%;\\n  height: 90%;\\n  background: url('scanner.svg') no-repeat center center;\\n  background-size: contain;\\n}\\n.qrscanner .line {\\n  left: 25%;\\n  width: 50%;\\n  height: 2px;\\n  background: red;\\n  position: absolute;\\n  -webkit-animation: myfirst 2s linear infinite alternate;\\n          animation: myfirst 2s linear infinite alternate;\\n}\\n@-webkit-keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\n@keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\nion-footer {\\n  display: -webkit-box;\\n  display: flex;\\n  justify-content: space-around;\\n  padding: 22px;\\n}\\nion-footer .warp-icon {\\n  width: 54px;\\n  height: 54px;\\n  background: #fff;\\n  border-radius: 50%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\nion-footer .warp-icon span {\\n  position: absolute;\\n  margin-top: 38px;\\n  font-size: 12px;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93c3MvZ28vc3JjL2dpdGh1Yi5jb20vY3lwaGVyaXVtL3dhbGxldGFwcC9zcmMvYXBwL3BhZ2VzL3NjYW4vc2Nhbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3NjYW4vc2Nhbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUksdUNBQUE7QUNDSjtBRENJOztFQUNJLFVBQUE7QUNFUjtBREVBO0VBQ0kseUNBQUE7QUNDSjtBRElBO0VBQ0ksZ0JBQUE7QUNESjtBREdJO0VBQ0ksZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHNEQUFBO0VBQ0Esd0JBQUE7QUNEUjtBRElJO0VBQ0ksU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsdURBQUE7VUFBQSwrQ0FBQTtBQ0ZSO0FES0k7RUFDSTtJQUNJLGVBQUE7SUFDQSxRQUFBO0VDSFY7RURNTTtJQUNJLGtCQUFBO0lBQ0EsUUFBQTtFQ0pWO0VET007SUFDSSxnQkFBQTtJQUNBLFFBQUE7RUNMVjtFRFFNO0lBQ0ksaUJBQUE7SUFDQSxRQUFBO0VDTlY7RURTTTtJQUNJLGVBQUE7SUFDQSxRQUFBO0VDUFY7QUFDRjtBRGpCSTtFQUNJO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNIVjtFRE1NO0lBQ0ksa0JBQUE7SUFDQSxRQUFBO0VDSlY7RURPTTtJQUNJLGdCQUFBO0lBQ0EsUUFBQTtFQ0xWO0VEUU07SUFDSSxpQkFBQTtJQUNBLFFBQUE7RUNOVjtFRFNNO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNQVjtBQUNGO0FEV0E7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLGFBQUE7QUNSSjtBRFVJO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNSUjtBRFVRO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FDUloiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zY2FuL3NjYW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWFwcC5jYW1lcmFWaWV3LFxuaW9uLWFwcC5jYW1lcmFWaWV3IC5uYXYtZGVjb3Ige1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmUgIWltcG9ydGFudDtcblxuICAgIC50YWJiYXIuc2hvdy10YWJiYXIge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbn1cblxuaW9uLWFwcC5jYW1lcmFWaWV3IGlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmUgIWltcG9ydGFudDtcbn1cblxuXG4vLyBwYWdlLXNjYW4ge1xuLnFyc2Nhbm5lciB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcblxuICAgIC5hcmVhIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogOTAlO1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZ3MvcXJzY2FubmVyL3NjYW5uZXIuc3ZnKSBuby1yZXBlYXQgY2VudGVyIGNlbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICAgIH1cblxuICAgIC5saW5lIHtcbiAgICAgICAgbGVmdDogMjUlO1xuICAgICAgICB3aWR0aDogNTAlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGFuaW1hdGlvbjogbXlmaXJzdCAycyBsaW5lYXIgaW5maW5pdGUgYWx0ZXJuYXRlO1xuICAgIH1cblxuICAgIEBrZXlmcmFtZXMgbXlmaXJzdCB7XG4gICAgICAgIDAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgICAgIHRvcDogMzQlO1xuICAgICAgICB9XG5cbiAgICAgICAgMjUlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHllbGxvdztcbiAgICAgICAgICAgIHRvcDogNDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgNTAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsdWU7XG4gICAgICAgICAgICB0b3A6IDQ2JTtcbiAgICAgICAgfVxuXG4gICAgICAgIDc1JSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBncmVlbjtcbiAgICAgICAgICAgIHRvcDogNTIlO1xuICAgICAgICB9XG5cbiAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgICAgICB0b3A6IDYwJTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuaW9uLWZvb3RlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBwYWRkaW5nOiAyMnB4O1xuXG4gICAgLndhcnAtaWNvbiB7XG4gICAgICAgIHdpZHRoOiA1NHB4O1xuICAgICAgICBoZWlnaHQ6IDU0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAzOHB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIH0iLCJpb24tYXBwLmNhbWVyYVZpZXcsXG5pb24tYXBwLmNhbWVyYVZpZXcgLm5hdi1kZWNvciB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmUgIWltcG9ydGFudDtcbn1cbmlvbi1hcHAuY2FtZXJhVmlldyAudGFiYmFyLnNob3ctdGFiYmFyLFxuaW9uLWFwcC5jYW1lcmFWaWV3IC5uYXYtZGVjb3IgLnRhYmJhci5zaG93LXRhYmJhciB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbmlvbi1hcHAuY2FtZXJhVmlldyBpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xufVxuXG4ucXJzY2FubmVyIHtcbiAgYmFja2dyb3VuZDogbm9uZTtcbn1cbi5xcnNjYW5uZXIgLmFyZWEge1xuICBtYXJnaW4tdG9wOiAzMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA5MCU7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1ncy9xcnNjYW5uZXIvc2Nhbm5lci5zdmcpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG59XG4ucXJzY2FubmVyIC5saW5lIHtcbiAgbGVmdDogMjUlO1xuICB3aWR0aDogNTAlO1xuICBoZWlnaHQ6IDJweDtcbiAgYmFja2dyb3VuZDogcmVkO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGFuaW1hdGlvbjogbXlmaXJzdCAycyBsaW5lYXIgaW5maW5pdGUgYWx0ZXJuYXRlO1xufVxuQGtleWZyYW1lcyBteWZpcnN0IHtcbiAgMCUge1xuICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICB0b3A6IDM0JTtcbiAgfVxuICAyNSUge1xuICAgIGJhY2tncm91bmQ6IHllbGxvdztcbiAgICB0b3A6IDQwJTtcbiAgfVxuICA1MCUge1xuICAgIGJhY2tncm91bmQ6IGJsdWU7XG4gICAgdG9wOiA0NiU7XG4gIH1cbiAgNzUlIHtcbiAgICBiYWNrZ3JvdW5kOiBncmVlbjtcbiAgICB0b3A6IDUyJTtcbiAgfVxuICAxMDAlIHtcbiAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgdG9wOiA2MCU7XG4gIH1cbn1cblxuaW9uLWZvb3RlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICBwYWRkaW5nOiAyMnB4O1xufVxuaW9uLWZvb3RlciAud2FycC1pY29uIHtcbiAgd2lkdGg6IDU0cHg7XG4gIGhlaWdodDogNTRweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbmlvbi1mb290ZXIgLndhcnAtaWNvbiBzcGFuIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW4tdG9wOiAzOHB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjZmZmO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Events, NavController } from '@ionic/angular';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings/ngx';\n\n\n@Component({\n    selector: 'app-scan',\n    templateUrl: './scan.page.html',\n    styleUrls: ['./scan.page.scss'],\n})\n\nexport class ScanPage implements OnInit {\n    light: boolean = false; // 判断闪光灯\n    isShow: boolean = false; // 控制显示背景，避免切换页面卡顿\n    showIcon = false;\n\n    ifShowAlert = false;\n    alertTitle: string;\n    alertDesc: string;\n    alertCancelText: string;\n    alertConfirmText: string;\n    confirmAlert: any;\n    cancelAlert: any;\n\n    constructor(\n        private navCtrl: NavController,\n        private events: Events,\n        // private global: GlobalProvider,\n        private openSetting: OpenNativeSettings,\n        private qrScanner: QRScanner) {\n    }\n\n    ngOnInit() {\n        this.qrScanner.prepare().then((status: QRScannerStatus) => {\n            if (status.authorized) { // 判断是否有摄像头权限\n                let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n                    this.events.publish('qrscanner:result', text);\n                    scanSub.unsubscribe();\n                    this.ifShowAlert = false;\n                    setTimeout(() => {\n                        this.navCtrl.pop();\n                    }, 100);\n                });\n                // 打开摄像头\n                this.qrScanner.show();\n            } else if (status.denied) {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            } else {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            }\n        }).catch((e: any) => {\n            console.log(\"catch.........\")\n            this.permisionPopUp();\n        });\n    }\n\n    permisionPopUp() {\n        this.createAlert(\"权限申请\", \"扫码需要获取摄像头权限\", \"取消\", \"同意\", () => {\n            this.navCtrl.pop();\n        }, () => {\n            this.navCtrl.pop();\n            this.qrScanner.openSettings();\n            // this.openSetting.open('application_details');\n        });\n        // let promises = [\n        //     this.global.getTranslate('PERMISIONCAMERA'),\n        //     this.global.getTranslate(\"GETPERMISIONCAMERA\"),\n        //     this.global.getTranslate(\"DENY\"),\n        //     this.global.getTranslate(\"ALLOW\")\n        // ];\n        // Promise.all(promises)\n        //     .then((text: any) => {\n        //         this.createAlert(text[0], text[1], text[2], text[3], () => {\n        //             console.log(\"用户拒绝授予权限\");\n        //             this.navCtrl.pop();\n        //         }, () => {\n        //             console.log(\"用户同意授予权限\")\n        //             this.navCtrl.pop();\n        //             this.qrScanner.openSettings();\n        //             // this.openSetting.open('application_details');\n        //         });\n        //     })\n    }\n\n    createAlert(title, message, cancelText: any = '', confirmText: any = '', cancelAlert = null, confirmAlert = () => { }) {\n        this.alertTitle = title;\n        this.alertDesc = message;\n        this.alertCancelText = cancelText;\n        this.alertConfirmText = confirmText;\n        this.confirmAlert = () => {\n            confirmAlert();\n            this.closeAlert();\n        };\n        this.cancelAlert = () => {\n            this.closeAlert();\n            cancelAlert();\n        }\n        this.ifShowAlert = true;\n    }\n\n    closeAlert() {\n        this.ifShowAlert = false;\n    }\n\n    ionViewWillEnter() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.add('cameraView'); // tslint:disable-line\n        this.isShow = true; // 显示背景\n        this.showIcon = true;\n    }\n\n    ionViewWillLeave() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.remove('cameraView'); // tslint:disable-line\n        this.qrScanner.hide(); // 需要关闭扫描，否则相机一直开着\n        this.qrScanner.destroy(); // 关闭\n        this.showIcon = false;\n        this.events.unsubscribe('qrscanner:result'); // 退出页面取消所有订阅，进入页面前需订阅\n    }\n\n    // 开关手电筒\n    toggleLight() {\n        this.light ? this.qrScanner.disableLight() : this.qrScanner.enableLight();\n        this.light = !this.light;\n    }\n\n    // 取消扫描\n    close() {\n        this.navCtrl.pop();\n    }\n\n}"],"sourceRoot":"webpack:///","file":"pages-scan-scan-module-es5.js"}