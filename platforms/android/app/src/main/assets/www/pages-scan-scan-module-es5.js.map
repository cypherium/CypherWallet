{"version":3,"sources":["src/app/pages/scan/scan.page.html","src/app/pages/scan/scan.module.ts","src/app/pages/scan/scan.page.scss","src/app/pages/scan/scan.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-title>{{ 'SCAN' | translate }}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [ngClass]=\\\"{'qrscanner':isShow}\\\">\\n    <div class=\\\"area\\\"></div>\\n    <div class=\\\"line\\\"></div>\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"showIcon\\\">\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"close()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/close.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">CANCEL</span>\\n    </div>\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"toggleLight()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/flashlight.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">TORCH</span>\\n    </div>\\n</ion-footer>\\n\\n<app-alert [title]=\\\"alertTitle\\\" [desc]=\\\"alertDesc\\\" *ngIf=\\\"ifShowAlert\\\" cancelText=\\\"{{ 'CANCEL' | translate }}\\\"\\n    (cancel)=\\\"cancelAlert()\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (confirm)=\\\"confirmAlert()\\\">\\n</app-alert>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanPage } from './scan.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ScanPage]\n})\nexport class ScanPageModule { }\n","export default \"ion-app.cameraView,\\nion-app.cameraView .nav-decor {\\n  background: transparent none !important;\\n}\\nion-app.cameraView .tabbar.show-tabbar,\\nion-app.cameraView .nav-decor .tabbar.show-tabbar {\\n  opacity: 0;\\n}\\nion-app.cameraView ion-content {\\n  --background: transparent none !important;\\n}\\n.qrscanner {\\n  background: none;\\n}\\n.qrscanner .area {\\n  margin-top: 30px;\\n  width: 100%;\\n  height: 90%;\\n  background: url('scanner.svg') no-repeat center center;\\n  background-size: contain;\\n}\\n.qrscanner .line {\\n  left: 25%;\\n  width: 50%;\\n  height: 2px;\\n  background: red;\\n  position: absolute;\\n  -webkit-animation: myfirst 2s linear infinite alternate;\\n          animation: myfirst 2s linear infinite alternate;\\n}\\n@-webkit-keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\n@keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\nion-footer {\\n  display: -webkit-box;\\n  display: flex;\\n  justify-content: space-around;\\n  padding: 22px;\\n}\\nion-footer .warp-icon {\\n  width: 54px;\\n  height: 54px;\\n  background: #fff;\\n  border-radius: 50%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\nion-footer .warp-icon span {\\n  position: absolute;\\n  margin-top: 38px;\\n  font-size: 12px;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jeXBoZXIwMS9nby9zcmMvZ2l0aHViLmNvbS9jeXBoZXJpdW0vd2FsbGV0YXBwL3NyYy9hcHAvcGFnZXMvc2Nhbi9zY2FuLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc2Nhbi9zY2FuLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFSSx1Q0FBQTtBQ0NKO0FEQ0k7O0VBQ0ksVUFBQTtBQ0VSO0FERUE7RUFDSSx5Q0FBQTtBQ0NKO0FESUE7RUFDSSxnQkFBQTtBQ0RKO0FER0k7RUFDSSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0Esc0RBQUE7RUFDQSx3QkFBQTtBQ0RSO0FESUk7RUFDSSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSx1REFBQTtVQUFBLCtDQUFBO0FDRlI7QURLSTtFQUNJO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNIVjtFRE1NO0lBQ0ksa0JBQUE7SUFDQSxRQUFBO0VDSlY7RURPTTtJQUNJLGdCQUFBO0lBQ0EsUUFBQTtFQ0xWO0VEUU07SUFDSSxpQkFBQTtJQUNBLFFBQUE7RUNOVjtFRFNNO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNQVjtBQUNGO0FEakJJO0VBQ0k7SUFDSSxlQUFBO0lBQ0EsUUFBQTtFQ0hWO0VETU07SUFDSSxrQkFBQTtJQUNBLFFBQUE7RUNKVjtFRE9NO0lBQ0ksZ0JBQUE7SUFDQSxRQUFBO0VDTFY7RURRTTtJQUNJLGlCQUFBO0lBQ0EsUUFBQTtFQ05WO0VEU007SUFDSSxlQUFBO0lBQ0EsUUFBQTtFQ1BWO0FBQ0Y7QURXQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDZCQUFBO0VBQ0EsYUFBQTtBQ1JKO0FEVUk7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ1JSO0FEVVE7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUNSWiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NjYW4vc2Nhbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYXBwLmNhbWVyYVZpZXcsXG5pb24tYXBwLmNhbWVyYVZpZXcgLm5hdi1kZWNvciB7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xuXG4gICAgLnRhYmJhci5zaG93LXRhYmJhciB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxufVxuXG5pb24tYXBwLmNhbWVyYVZpZXcgaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xufVxuXG5cbi8vIHBhZ2Utc2NhbiB7XG4ucXJzY2FubmVyIHtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuXG4gICAgLmFyZWEge1xuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiA5MCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1ncy9xcnNjYW5uZXIvc2Nhbm5lci5zdmcpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgfVxuXG4gICAgLmxpbmUge1xuICAgICAgICBsZWZ0OiAyNSU7XG4gICAgICAgIHdpZHRoOiA1MCU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYW5pbWF0aW9uOiBteWZpcnN0IDJzIGxpbmVhciBpbmZpbml0ZSBhbHRlcm5hdGU7XG4gICAgfVxuXG4gICAgQGtleWZyYW1lcyBteWZpcnN0IHtcbiAgICAgICAgMCUge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICAgICAgdG9wOiAzNCU7XG4gICAgICAgIH1cblxuICAgICAgICAyNSUge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogeWVsbG93O1xuICAgICAgICAgICAgdG9wOiA0MCU7XG4gICAgICAgIH1cblxuICAgICAgICA1MCUge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogYmx1ZTtcbiAgICAgICAgICAgIHRvcDogNDYlO1xuICAgICAgICB9XG5cbiAgICAgICAgNzUlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGdyZWVuO1xuICAgICAgICAgICAgdG9wOiA1MiU7XG4gICAgICAgIH1cblxuICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgICAgIHRvcDogNjAlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5pb24tZm9vdGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgIHBhZGRpbmc6IDIycHg7XG5cbiAgICAud2FycC1pY29uIHtcbiAgICAgICAgd2lkdGg6IDU0cHg7XG4gICAgICAgIGhlaWdodDogNTRweDtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDM4cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gfSIsImlvbi1hcHAuY2FtZXJhVmlldyxcbmlvbi1hcHAuY2FtZXJhVmlldyAubmF2LWRlY29yIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xufVxuaW9uLWFwcC5jYW1lcmFWaWV3IC50YWJiYXIuc2hvdy10YWJiYXIsXG5pb24tYXBwLmNhbWVyYVZpZXcgLm5hdi1kZWNvciAudGFiYmFyLnNob3ctdGFiYmFyIHtcbiAgb3BhY2l0eTogMDtcbn1cblxuaW9uLWFwcC5jYW1lcmFWaWV3IGlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCBub25lICFpbXBvcnRhbnQ7XG59XG5cbi5xcnNjYW5uZXIge1xuICBiYWNrZ3JvdW5kOiBub25lO1xufVxuLnFyc2Nhbm5lciAuYXJlYSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDkwJTtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWdzL3Fyc2Nhbm5lci9zY2FubmVyLnN2Zykgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXI7XG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcbn1cbi5xcnNjYW5uZXIgLmxpbmUge1xuICBsZWZ0OiAyNSU7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogMnB4O1xuICBiYWNrZ3JvdW5kOiByZWQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYW5pbWF0aW9uOiBteWZpcnN0IDJzIGxpbmVhciBpbmZpbml0ZSBhbHRlcm5hdGU7XG59XG5Aa2V5ZnJhbWVzIG15Zmlyc3Qge1xuICAwJSB7XG4gICAgYmFja2dyb3VuZDogcmVkO1xuICAgIHRvcDogMzQlO1xuICB9XG4gIDI1JSB7XG4gICAgYmFja2dyb3VuZDogeWVsbG93O1xuICAgIHRvcDogNDAlO1xuICB9XG4gIDUwJSB7XG4gICAgYmFja2dyb3VuZDogYmx1ZTtcbiAgICB0b3A6IDQ2JTtcbiAgfVxuICA3NSUge1xuICAgIGJhY2tncm91bmQ6IGdyZWVuO1xuICAgIHRvcDogNTIlO1xuICB9XG4gIDEwMCUge1xuICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICB0b3A6IDYwJTtcbiAgfVxufVxuXG5pb24tZm9vdGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIHBhZGRpbmc6IDIycHg7XG59XG5pb24tZm9vdGVyIC53YXJwLWljb24ge1xuICB3aWR0aDogNTRweDtcbiAgaGVpZ2h0OiA1NHB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuaW9uLWZvb3RlciAud2FycC1pY29uIHNwYW4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbi10b3A6IDM4cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6ICNmZmY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Events, NavController } from '@ionic/angular';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings/ngx';\n\n\n@Component({\n    selector: 'app-scan',\n    templateUrl: './scan.page.html',\n    styleUrls: ['./scan.page.scss'],\n})\n\nexport class ScanPage implements OnInit {\n    light: boolean = false; // 判断闪光灯\n    isShow: boolean = false; // 控制显示背景，避免切换页面卡顿\n    showIcon = false;\n\n    ifShowAlert = false;\n    alertTitle: string;\n    alertDesc: string;\n    alertCancelText: string;\n    alertConfirmText: string;\n    confirmAlert: any;\n    cancelAlert: any;\n\n    constructor(\n        private navCtrl: NavController,\n        private events: Events,\n        // private global: GlobalProvider,\n        private openSetting: OpenNativeSettings,\n        private qrScanner: QRScanner) {\n    }\n\n    ngOnInit() {\n        this.qrScanner.prepare().then((status: QRScannerStatus) => {\n            if (status.authorized) { // 判断是否有摄像头权限\n                let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n                    this.events.publish('qrscanner:result', text);\n                    scanSub.unsubscribe();\n                    this.ifShowAlert = false;\n                    setTimeout(() => {\n                        this.navCtrl.pop();\n                    }, 100);\n                });\n                // 打开摄像头\n                this.qrScanner.show();\n            } else if (status.denied) {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            } else {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            }\n        }).catch((e: any) => {\n            console.log(\"catch.........\")\n            this.permisionPopUp();\n        });\n    }\n\n    permisionPopUp() {\n        this.createAlert(\"权限申请\", \"扫码需要获取摄像头权限\", \"取消\", \"同意\", () => {\n            this.navCtrl.pop();\n        }, () => {\n            this.navCtrl.pop();\n            this.qrScanner.openSettings();\n            // this.openSetting.open('application_details');\n        });\n        // let promises = [\n        //     this.global.getTranslate('PERMISIONCAMERA'),\n        //     this.global.getTranslate(\"GETPERMISIONCAMERA\"),\n        //     this.global.getTranslate(\"DENY\"),\n        //     this.global.getTranslate(\"ALLOW\")\n        // ];\n        // Promise.all(promises)\n        //     .then((text: any) => {\n        //         this.createAlert(text[0], text[1], text[2], text[3], () => {\n        //             console.log(\"用户拒绝授予权限\");\n        //             this.navCtrl.pop();\n        //         }, () => {\n        //             console.log(\"用户同意授予权限\")\n        //             this.navCtrl.pop();\n        //             this.qrScanner.openSettings();\n        //             // this.openSetting.open('application_details');\n        //         });\n        //     })\n    }\n\n    createAlert(title, message, cancelText: any = '', confirmText: any = '', cancelAlert = null, confirmAlert = () => { }) {\n        this.alertTitle = title;\n        this.alertDesc = message;\n        this.alertCancelText = cancelText;\n        this.alertConfirmText = confirmText;\n        this.confirmAlert = () => {\n            confirmAlert();\n            this.closeAlert();\n        };\n        this.cancelAlert = () => {\n            this.closeAlert();\n            cancelAlert();\n        }\n        this.ifShowAlert = true;\n    }\n\n    closeAlert() {\n        this.ifShowAlert = false;\n    }\n\n    ionViewWillEnter() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.add('cameraView'); // tslint:disable-line\n        this.isShow = true; // 显示背景\n        this.showIcon = true;\n    }\n\n    ionViewWillLeave() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.remove('cameraView'); // tslint:disable-line\n        this.qrScanner.hide(); // 需要关闭扫描，否则相机一直开着\n        this.qrScanner.destroy(); // 关闭\n        this.showIcon = false;\n        this.events.unsubscribe('qrscanner:result'); // 退出页面取消所有订阅，进入页面前需订阅\n    }\n\n    // 开关手电筒\n    toggleLight() {\n        this.light ? this.qrScanner.disableLight() : this.qrScanner.enableLight();\n        this.light = !this.light;\n    }\n\n    // 取消扫描\n    close() {\n        this.navCtrl.pop();\n    }\n\n}"],"sourceRoot":"webpack:///","file":"pages-scan-scan-module-es5.js"}