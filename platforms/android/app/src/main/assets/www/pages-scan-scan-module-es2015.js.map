{"version":3,"sources":["./src/app/pages/scan/scan.page.html","./src/app/pages/scan/scan.module.ts","./src/app/pages/scan/scan.page.scss","./src/app/pages/scan/scan.page.ts"],"names":[],"mappings":"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","file":"pages-scan-scan-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-title>{{ 'SCAN' | translate }}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [ngClass]=\\\"{'qrscanner':isShow}\\\">\\n    <div class=\\\"area\\\"></div>\\n    <div class=\\\"line\\\"></div>\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"showIcon\\\">\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"close()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/close.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">CANCEL</span>\\n    </div>\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"toggleLight()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/flashlight.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">TORCH</span>\\n    </div>\\n</ion-footer>\\n\\n<app-alert [title]=\\\"alertTitle\\\" [desc]=\\\"alertDesc\\\" *ngIf=\\\"ifShowAlert\\\" cancelText=\\\"{{ 'CANCEL' | translate }}\\\"\\n    (cancel)=\\\"cancelAlert()\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (confirm)=\\\"confirmAlert()\\\">\\n</app-alert>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanPage } from './scan.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ScanPage]\n})\nexport class ScanPageModule { }\n","export default \"ion-app.cameraView,\\nion-app.cameraView .nav-decor {\\n  background: transparent none !important;\\n}\\nion-app.cameraView .tabbar.show-tabbar,\\nion-app.cameraView .nav-decor .tabbar.show-tabbar {\\n  opacity: 0;\\n}\\nion-app.cameraView ion-content {\\n  --background: transparent none !important;\\n}\\n.qrscanner {\\n  background: none;\\n}\\n.qrscanner .area {\\n  margin-top: 30px;\\n  width: 100%;\\n  height: 90%;\\n  background: url('scanner.svg') no-repeat center center;\\n  background-size: contain;\\n}\\n.qrscanner .line {\\n  left: 25%;\\n  width: 50%;\\n  height: 2px;\\n  background: red;\\n  position: absolute;\\n  -webkit-animation: myfirst 2s linear infinite alternate;\\n          animation: myfirst 2s linear infinite alternate;\\n}\\n@-webkit-keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\n@keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\nion-footer {\\n  display: -webkit-box;\\n  display: flex;\\n  justify-content: space-around;\\n  padding: 22px;\\n}\\nion-footer .warp-icon {\\n  width: 54px;\\n  height: 54px;\\n  background: #fff;\\n  border-radius: 50%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\nion-footer .warp-icon span {\\n  position: absolute;\\n  margin-top: 38px;\\n  font-size: 12px;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93c3MvZ28vc3JjL2dpdGh1Yi5jb20vY3lwaGVyaXVtL3dhbGxldGFwcC9zcmMvYXBwL3BhZ2VzL3NjYW4vc2Nhbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3NjYW4vc2Nhbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUksdUNBQUE7QUNDSjtBRENJOztFQUNJLFVBQUE7QUNFUjtBREVBO0VBQ0kseUNBQUE7QUNDSjtBRElBO0VBQ0ksZ0JBQUE7QUNESjtBREdJO0VBQ0ksZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHNEQUFBO0VBQ0Esd0JBQUE7QUNEUjtBRElJO0VBQ0ksU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsdURBQUE7VUFBQSwrQ0FBQTtBQ0ZSO0FES0k7RUFDSTtJQUNJLGVBQUE7SUFDQSxRQUFBO0VDSFY7RURNTTtJQUNJLGtCQUFBO0lBQ0EsUUFBQTtFQ0pWO0VET007SUFDSSxnQkFBQTtJQUNBLFFBQUE7RUNMVjtFRFFNO0lBQ0ksaUJBQUE7SUFDQSxRQUFBO0VDTlY7RURTTTtJQUNJLGVBQUE7SUFDQSxRQUFBO0VDUFY7QUFDRjtBRGpCSTtFQUNJO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNIVjtFRE1NO0lBQ0ksa0JBQUE7SUFDQSxRQUFBO0VDSlY7RURPTTtJQUNJLGdCQUFBO0lBQ0EsUUFBQTtFQ0xWO0VEUU07SUFDSSxpQkFBQTtJQUNBLFFBQUE7RUNOVjtFRFNNO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNQVjtBQUNGO0FEV0E7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLGFBQUE7QUNSSjtBRFVJO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNSUjtBRFVRO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FDUloiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zY2FuL3NjYW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWFwcC5jYW1lcmFWaWV3LFxuaW9uLWFwcC5jYW1lcmFWaWV3IC5uYXYtZGVjb3Ige1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmUgIWltcG9ydGFudDtcblxuICAgIC50YWJiYXIuc2hvdy10YWJiYXIge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbn1cblxuaW9uLWFwcC5jYW1lcmFWaWV3IGlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmUgIWltcG9ydGFudDtcbn1cblxuXG4vLyBwYWdlLXNjYW4ge1xuLnFyc2Nhbm5lciB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcblxuICAgIC5hcmVhIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogOTAlO1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZ3MvcXJzY2FubmVyL3NjYW5uZXIuc3ZnKSBuby1yZXBlYXQgY2VudGVyIGNlbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICAgIH1cblxuICAgIC5saW5lIHtcbiAgICAgICAgbGVmdDogMjUlO1xuICAgICAgICB3aWR0aDogNTAlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGFuaW1hdGlvbjogbXlmaXJzdCAycyBsaW5lYXIgaW5maW5pdGUgYWx0ZXJuYXRlO1xuICAgIH1cblxuICAgIEBrZXlmcmFtZXMgbXlmaXJzdCB7XG4gICAgICAgIDAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgICAgIHRvcDogMzQlO1xuICAgICAgICB9XG5cbiAgICAgICAgMjUlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHllbGxvdztcbiAgICAgICAgICAgIHRvcDogNDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgNTAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsdWU7XG4gICAgICAgICAgICB0b3A6IDQ2JTtcbiAgICAgICAgfVxuXG4gICAgICAgIDc1JSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBncmVlbjtcbiAgICAgICAgICAgIHRvcDogNTIlO1xuICAgICAgICB9XG5cbiAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgICAgICB0b3A6IDYwJTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuaW9uLWZvb3RlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBwYWRkaW5nOiAyMnB4O1xuXG4gICAgLndhcnAtaWNvbiB7XG4gICAgICAgIHdpZHRoOiA1NHB4O1xuICAgICAgICBoZWlnaHQ6IDU0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAzOHB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIH0iLCJpb24tYXBwLmNhbWVyYVZpZXcsXG5pb24tYXBwLmNhbWVyYVZpZXcgLm5hdi1kZWNvciB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmUgIWltcG9ydGFudDtcbn1cbmlvbi1hcHAuY2FtZXJhVmlldyAudGFiYmFyLnNob3ctdGFiYmFyLFxuaW9uLWFwcC5jYW1lcmFWaWV3IC5uYXYtZGVjb3IgLnRhYmJhci5zaG93LXRhYmJhciB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbmlvbi1hcHAuY2FtZXJhVmlldyBpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xufVxuXG4ucXJzY2FubmVyIHtcbiAgYmFja2dyb3VuZDogbm9uZTtcbn1cbi5xcnNjYW5uZXIgLmFyZWEge1xuICBtYXJnaW4tdG9wOiAzMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA5MCU7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1ncy9xcnNjYW5uZXIvc2Nhbm5lci5zdmcpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG59XG4ucXJzY2FubmVyIC5saW5lIHtcbiAgbGVmdDogMjUlO1xuICB3aWR0aDogNTAlO1xuICBoZWlnaHQ6IDJweDtcbiAgYmFja2dyb3VuZDogcmVkO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGFuaW1hdGlvbjogbXlmaXJzdCAycyBsaW5lYXIgaW5maW5pdGUgYWx0ZXJuYXRlO1xufVxuQGtleWZyYW1lcyBteWZpcnN0IHtcbiAgMCUge1xuICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICB0b3A6IDM0JTtcbiAgfVxuICAyNSUge1xuICAgIGJhY2tncm91bmQ6IHllbGxvdztcbiAgICB0b3A6IDQwJTtcbiAgfVxuICA1MCUge1xuICAgIGJhY2tncm91bmQ6IGJsdWU7XG4gICAgdG9wOiA0NiU7XG4gIH1cbiAgNzUlIHtcbiAgICBiYWNrZ3JvdW5kOiBncmVlbjtcbiAgICB0b3A6IDUyJTtcbiAgfVxuICAxMDAlIHtcbiAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgdG9wOiA2MCU7XG4gIH1cbn1cblxuaW9uLWZvb3RlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICBwYWRkaW5nOiAyMnB4O1xufVxuaW9uLWZvb3RlciAud2FycC1pY29uIHtcbiAgd2lkdGg6IDU0cHg7XG4gIGhlaWdodDogNTRweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbmlvbi1mb290ZXIgLndhcnAtaWNvbiBzcGFuIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW4tdG9wOiAzOHB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjZmZmO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Events, NavController } from '@ionic/angular';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings/ngx';\n\n\n@Component({\n    selector: 'app-scan',\n    templateUrl: './scan.page.html',\n    styleUrls: ['./scan.page.scss'],\n})\n\nexport class ScanPage implements OnInit {\n    light: boolean = false; // 判断闪光灯\n    isShow: boolean = false; // 控制显示背景，避免切换页面卡顿\n    showIcon = false;\n\n    ifShowAlert = false;\n    alertTitle: string;\n    alertDesc: string;\n    alertCancelText: string;\n    alertConfirmText: string;\n    confirmAlert: any;\n    cancelAlert: any;\n\n    constructor(\n        private navCtrl: NavController,\n        private events: Events,\n        // private global: GlobalProvider,\n        private openSetting: OpenNativeSettings,\n        private qrScanner: QRScanner) {\n    }\n\n    ngOnInit() {\n        this.qrScanner.prepare().then((status: QRScannerStatus) => {\n            if (status.authorized) { // 判断是否有摄像头权限\n                let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n                    this.events.publish('qrscanner:result', text);\n                    scanSub.unsubscribe();\n                    this.ifShowAlert = false;\n                    setTimeout(() => {\n                        this.navCtrl.pop();\n                    }, 100);\n                });\n                // 打开摄像头\n                this.qrScanner.show();\n            } else if (status.denied) {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            } else {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            }\n        }).catch((e: any) => {\n            console.log(\"catch.........\")\n            this.permisionPopUp();\n        });\n    }\n\n    permisionPopUp() {\n        this.createAlert(\"权限申请\", \"扫码需要获取摄像头权限\", \"取消\", \"同意\", () => {\n            this.navCtrl.pop();\n        }, () => {\n            this.navCtrl.pop();\n            this.qrScanner.openSettings();\n            // this.openSetting.open('application_details');\n        });\n        // let promises = [\n        //     this.global.getTranslate('PERMISIONCAMERA'),\n        //     this.global.getTranslate(\"GETPERMISIONCAMERA\"),\n        //     this.global.getTranslate(\"DENY\"),\n        //     this.global.getTranslate(\"ALLOW\")\n        // ];\n        // Promise.all(promises)\n        //     .then((text: any) => {\n        //         this.createAlert(text[0], text[1], text[2], text[3], () => {\n        //             console.log(\"用户拒绝授予权限\");\n        //             this.navCtrl.pop();\n        //         }, () => {\n        //             console.log(\"用户同意授予权限\")\n        //             this.navCtrl.pop();\n        //             this.qrScanner.openSettings();\n        //             // this.openSetting.open('application_details');\n        //         });\n        //     })\n    }\n\n    createAlert(title, message, cancelText: any = '', confirmText: any = '', cancelAlert = null, confirmAlert = () => { }) {\n        this.alertTitle = title;\n        this.alertDesc = message;\n        this.alertCancelText = cancelText;\n        this.alertConfirmText = confirmText;\n        this.confirmAlert = () => {\n            confirmAlert();\n            this.closeAlert();\n        };\n        this.cancelAlert = () => {\n            this.closeAlert();\n            cancelAlert();\n        }\n        this.ifShowAlert = true;\n    }\n\n    closeAlert() {\n        this.ifShowAlert = false;\n    }\n\n    ionViewWillEnter() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.add('cameraView'); // tslint:disable-line\n        this.isShow = true; // 显示背景\n        this.showIcon = true;\n    }\n\n    ionViewWillLeave() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.remove('cameraView'); // tslint:disable-line\n        this.qrScanner.hide(); // 需要关闭扫描，否则相机一直开着\n        this.qrScanner.destroy(); // 关闭\n        this.showIcon = false;\n        this.events.unsubscribe('qrscanner:result'); // 退出页面取消所有订阅，进入页面前需订阅\n    }\n\n    // 开关手电筒\n    toggleLight() {\n        this.light ? this.qrScanner.disableLight() : this.qrScanner.enableLight();\n        this.light = !this.light;\n    }\n\n    // 取消扫描\n    close() {\n        this.navCtrl.pop();\n    }\n\n}"],"sourceRoot":"webpack:///"}