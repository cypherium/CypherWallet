{"version":3,"sources":["./src/app/pages/export-keystore/export-keystore.page.html","./src/app/pages/export-keystore/export-keystore.module.ts","./src/app/pages/export-keystore/export-keystore.page.scss","./src/app/pages/export-keystore/export-keystore.page.ts"],"names":[],"mappings":"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","file":"pages-export-keystore-export-keystore-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>{{ 'EXPORT_KEYSTORE' | translate }}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div class=\\\"main\\\">\\n        <div class=\\\"tips\\\" translate>\\n            WXPORT_KEYSTORE_TIPS\\n        </div>\\n\\n        <div class=\\\"textarea\\\">\\n            {{ keystore }}\\n        </div>\\n    </div>\\n\\n    <div class=\\\"bottom-button\\\">\\n        <div class=\\\"confirm-button\\\" tappble (click)=\\\"copyKeystore()\\\" translate>COPY_KEYSTORE</div>\\n        <div class=\\\"confirm-button\\\" (click)=\\\"exportKeystoreToMiner()\\\" translate>EXPORT_KEYSTORE_MINER\\n        </div>\\n    </div>\\n</ion-content>\\n\\n<app-generate-privatekey *ngIf=\\\"ifShowPasswordPrompt\\\" promptDesc=\\\"{{ 'INPUT_PASSWORD_TIPS' | translate }}\\\"\\n    cancelText=\\\"{{ 'CANCEL' | translate }}\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (cancel)=\\\"cancelPrompt()\\\"\\n    (confirm)=\\\"confirmPrompt($event)\\\"></app-generate-privatekey>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ExportKeystorePage } from './export-keystore.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ExportKeystorePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ExportKeystorePage]\n})\nexport class ExportKeystorePageModule { }\n","export default \".textarea {\\n  margin-top: 8px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jeXBoZXIwMS9nby9zcmMvZ2l0aHViLmNvbS9jeXBoZXJpdW0vd2FsbGV0YXBwL3NyYy9hcHAvcGFnZXMvZXhwb3J0LWtleXN0b3JlL2V4cG9ydC1rZXlzdG9yZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2V4cG9ydC1rZXlzdG9yZS9leHBvcnQta2V5c3RvcmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZXhwb3J0LWtleXN0b3JlL2V4cG9ydC1rZXlzdG9yZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dGFyZWEge1xuICAgIG1hcmdpbi10b3A6IDhweDtcbn0iLCIudGV4dGFyZWEge1xuICBtYXJnaW4tdG9wOiA4cHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { GlobalService } from '../../providers/global/global.service';\nimport { NativeService } from '../../providers/native/native.service';\nimport { HelperService } from '../../providers/helper/helper.service';\nimport { Platform, NavController } from '@ionic/angular';\nimport { HttpService } from \"../../providers/http/http.service\";\n\n@Component({\n    selector: 'app-export-keystore',\n    templateUrl: './export-keystore.page.html',\n    styleUrls: ['./export-keystore.page.scss'],\n})\nexport class ExportKeystorePage implements OnInit {\n    keystore = \"\";\n    wallet: any = {};\n    ifShowPasswordPrompt = false;\n\n    constructor(\n        private global: GlobalService,\n        private native: NativeService,\n        private helper: HelperService,\n        private http: HttpService,\n        private navCtrl: NavController,\n    ) { }\n\n    ngOnInit() {\n        this.wallet = this.global.gWalletList[this.global.currentWalletIndex];\n        // this.keystore = this.wallet.keystore;\n\n        setTimeout(() => {\n            this.ifShowPasswordPrompt = true;\n        }, 500)\n    }\n\n    async copyKeystore() {\n        this.native.copy(this.keystore);\n        let error = await this.helper.getTranslate('KEYSTORE_COPYIED_SUCCRRF');\n        this.helper.toast(error);\n    }\n\n    cancelPrompt() {\n        this.ifShowPasswordPrompt = false;\n        this.navCtrl.pop();\n    }\n\n    confirmPrompt(privateKey) {\n        this.ifShowPasswordPrompt = false;\n        this.keystore = this.wallet.keystore;\n    }\n\n\n    exportKeystoreToMiner() {\n        this.ifShowPasswordPrompt = false;\n\n        // console.log(\"导出keystore到挖矿应用...\");\n        this.native.scan().then((res: any) => {\n            console.log(\"Scan over...。。。\" + JSON.stringify(res));\n            // this.handleText(res.text);\n            this.helper.handleText(res.text, (url) => {\n                this.http.post(url, {\n                    keystore: this.wallet.keystore\n                }, {\n                    ignoreError: true\n                }).subscribe(res => {\n                    console.log(\"keystore transmitted：\" + res);\n                })\n            })\n        })\n    }\n\n}\n"],"sourceRoot":"webpack:///"}