{"version":3,"sources":["src/app/providers/logger/logger.service.ts","src/app/providers/native/native.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\n/**\n * 帮助类：存放和业务有关的公共方法\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoggerService {\n  static error(err: any, action: string) {\n    this.log('Logger.error：', '#f04141', action, '\\n ' + err);\n  }\n\n  static log(text, color = '#989aa2', ...detail) {\n    console.log(`%c${text}`, `background-color: ${color}; color:white; padding: 2px 5px; border-radius: 2px`, ...detail);\n  }\n\n  static http(err: any, data) {\n    console.log({ ...data }); // 上报日志\n    LoggerService.error(err, '请求出错');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { LoggerService } from '../logger/logger.service';\nimport { HelperService } from '../helper/helper.service';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\n// import { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { AppMinimize } from '@ionic-native/app-minimize/ngx';\n// import { PhotoLibrary } from '@ionic-native/photo-library/ngx';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Vibration } from \"@ionic-native/vibration/ngx\";\nimport { Platform } from '@ionic/angular';\nimport { GlobalService } from '../global/global.service';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings/ngx';\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\n\ndeclare let ImagePicker;\n\n/**\n * Cordova插件（手机硬件）调用工具类\n */\n@Injectable({\n    providedIn: 'root'\n})\nexport class NativeService {\n    private AppVersionInfo: object = null;\n\n    constructor(private statusBar: StatusBar,\n        private splashScreen: SplashScreen,\n        private appVersion: AppVersion,\n        // private socialSharing: SocialSharing,\n        private minimize: AppMinimize,\n        // private photoLibrary: PhotoLibrary,\n        private iab: InAppBrowser,\n        private network: Network,\n        private vibration: Vibration,\n        private qrScanner: QRScanner,\n        private global: GlobalService,\n        private clipboard: Clipboard,\n        private barcodeScanner: BarcodeScanner,\n        private openNativeSettings: OpenNativeSettings,\n        public helper: HelperService) {\n    }\n\n    /**\n     * 设置状态栏样式\n     * https://ionicframework.com/docs/native/status-bar\n     */\n    setStatusBarStyle(): void {\n        // if (this.helper.isMobile()) {\n        //     // this.statusBar.overlaysWebView(false);\n        //     // this.statusBar.styleLightContent();\n        //     this.statusBar.styleDefault(); // 使用黑色字体\n        //     this.statusBar.backgroundColorByHexString('#fff'); // 设置背景色\n        // }\n    }\n\n    copy(str) {\n        this.clipboard.copy(str);\n    }\n\n    /**\n     * 隐藏启动页\n     * https://ionicframework.com/docs/native/splash-screen\n     */\n    hideSplashScreen(): void {\n        if (this.helper.isMobile()) {\n            this.splashScreen.hide();\n        }\n    }\n\n    openSettings(setting) {\n        this.openNativeSettings.open(setting);\n    }\n\n    scan() {\n        return this.barcodeScanner.scan({\n            showTorchButton: true\n        }).then(barcodeData => {\n            console.log('Barcode data', barcodeData);\n            return barcodeData;\n        }).catch(err => {\n            console.log('Error', err);\n            return {\n                text: ''\n            }\n        });\n\n        // return new Promise((resolve, reject) => {\n        //     // Optionally request the permission early\n        //     this.qrScanner.prepare()\n        //         .then((status: QRScannerStatus) => {\n        //             console.log(\"权限状态：\" + JSON.stringify(status));\n        //             if (status.authorized) {\n        //                 console.log(\"获取权限成功......\");\n        //                 // camera permission was granted\n        //                 // start scanning\n        //                 let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n        //                     console.log('Scanned something', text);\n\n        //                     this.qrScanner.hide(); // hide camera preview\n        //                     scanSub.unsubscribe(); // stop scanning\n\n        //                     resolve(text);\n        //                 });\n\n        //             } else if (status.denied) {\n        //                 reject(1);\n        //                 // camera permission was permanently denied\n        //                 // you must use QRScanner.openSettings() method to guide the user to the settings page\n        //                 // then they can grant the permission from there\n        //             } else {\n        //                 reject(0);\n        //                 // permission was denied, but not permanently. You can ask for permission again at a later time.\n        //             }\n        //         })\n        //         .catch((e: any) => console.log('Error is', () => {\n        //             reject(e);\n        //         }));\n        // })\n\n    }\n\n    /**\n     * 最小化app\n     */\n    appMinimize() {\n        this.minimize.minimize();\n    }\n\n    /**\n     * 通过系统浏览器打开url\n     */\n    openUrlBySystemBrowser(url: string): void {\n        this.iab.create(url, '_system');\n    }\n\n    /**\n     * 获取网络类型 如`unknown`, `ethernet`, `wifi`, `2g`, `3g`, `4g`, `cellular`, `none`\n     */\n    getNetworkType(): string {\n        this.helper.assertIsMobile();\n        return this.network.type;\n    }\n\n    /**\n     * 判断是否有网络\n     */\n    isConnecting(): boolean {\n        return this.getNetworkType() !== 'none';\n    }\n\n\n    /**\n     * 获取app名称，包名，版本号\n     * https://ionicframework.com/docs/native/app-version\n     */\n    getAppVersionInfo() {\n        this.helper.assertIsMobile();\n        if (this.AppVersionInfo) {\n            return of(this.AppVersionInfo);\n        }\n        const appInfo = {\n            appName: '', // app name,如现场作业\n            packageName: '', // app包名/id,如com.kit.ionic2tabs\n            versionNumber: '', // app版本号,如0.0.1\n            name: '' // ionic2tabs\n        };\n        return Observable.create(observer => {\n            Promise.all([\n                this.appVersion.getAppName(),\n                this.appVersion.getPackageName(),\n                this.appVersion.getVersionNumber()\n            ]).then(result => {\n                appInfo.appName = result[0];\n                appInfo.packageName = result[1];\n                appInfo.versionNumber = result[2];\n                appInfo.name = result[1].split('.').pop();\n                this.AppVersionInfo = appInfo;\n                observer.next(appInfo);\n            }).catch(err => {\n                LoggerService.error(err, 'NativeService.getAppVersionInfo');\n                observer.error(false);\n            });\n        });\n    }\n\n\n    /**\n   * 获得app版本号,如0.01\n   * @description  对应/config.xml中version的值\n   */\n    getVersionNumber(): Observable<string> {\n        return Observable.create(observer => {\n            if (this.helper.isMobile()) {\n                this.appVersion.getVersionNumber().then((value: string) => {\n                    observer.next(value);\n                }).catch(err => {\n                    console.log(err, '获得app版本号失败');\n                    observer.error(false);\n                });\n            } else {\n                observer.next('1.0.7');\n            }\n        });\n    }\n\n\t/**\n\t * 获得app name,如现场作业\n\t * @description  对应/config.xml中name的值\n\t */\n    getAppName(): Observable<string> {\n        return Observable.create(observer => {\n            if (this.helper.isMobile()) {\n                this.appVersion.getAppName().then((value: string) => {\n                    observer.next(value);\n                }).catch(err => {\n                    console.log(err, '获得app name失败');\n                    observer.error(false);\n                });\n            } else {\n                observer.next('Mobbi');\n            }\n        });\n    }\n\n\t/**\n\t * 获得app包名/id,如com.kit.ionic2tabs\n\t * @description  对应/config.xml中id的值\n\t */\n    getPackageName(): Observable<string> {\n        return Observable.create(observer => {\n            if (this.helper.isMobile()) {\n                this.appVersion.getPackageName().then((value: string) => {\n                    observer.next(value);\n                }).catch(err => {\n                    console.log(err, '获得app包名失败');\n                    observer.error(false);\n                });\n            } else {\n                observer.next('com.mobbi.italy');\n            }\n        });\n    }\n\n    vibrate() {\n        console.log(\"密码错误\");\n        this.vibration.vibrate(this.global.vibrationDuration);\n    }\n\n    /**\n     * 获取照片 - 风格同微信获取照片\n     * https://github.com/giantss/cordova-plugin-ImagePicker\n     */\n    getPictures(options = {}) {\n        this.helper.assertIsMobile();\n        const ops = {\n            maximumImagesCount: 9,\n            width: 1920,\n            height: 1440,\n            quality: 100,\n            ...options\n        };\n        return Observable.create(observer => {\n            ImagePicker.getPictures(result => {\n                observer.next(result.images);\n            }, err => {\n                err === '已取消' ? console.log(err) : LoggerService.error(err, 'NativeService.getPictures');\n                observer.error(false);\n            }, ops);\n        });\n    }\n\n    /**\n     * 保存图片到本地相册\n     * @param url 图片url或base64\n     */\n    savePicture(url: string) {\n        this.helper.assertIsMobile();\n        // return Observable.create(observer => {\n        // \t// 请求权限\n        // \tthis.photoLibrary.requestAuthorization({ read: true, write: true }).then(() => {\n        // \t\t// 获取app包名作为相册名称\n        // \t\tthis.getAppVersionInfo().subscribe(appInfo => {\n        // \t\t\t// 执行保存操作\n        // \t\t\tthis.photoLibrary.saveImage(url, appInfo.name).then(res => {\n        // \t\t\t\tobserver.next(res);\n        // \t\t\t}).catch(err => {\n        // \t\t\t\tLogger.error(err, 'NativeService.savePicture');\n        // \t\t\t\tobserver.error(false);\n        // \t\t\t});\n        // \t\t});\n        // \t}).catch(err => {\n        // \t\tLogger.error(err, 'NativeService.savePicture');\n        // \t\tobserver.error(false);\n        // \t});\n        // });\n    }\n\n    /**\n     * 调用系统分享功能  https://ionicframework.com/docs/native/social-sharing/\n     * 注意：同时只能分享一种类型\n     * @param message 分享文本\n     * @param file 分享文件，如图片\n     */\n    share(message: string = null, file: string | string[] = null) {\n        this.helper.assertIsMobile();\n        // this.socialSharing.share(message, null, file);\n    }\n}\n"],"sourceRoot":"webpack:///","file":"default~pages-about-about-module~pages-cph-send-cph-send-module~pages-export-keystore-export-keystor~b6c3c970-es5.js"}