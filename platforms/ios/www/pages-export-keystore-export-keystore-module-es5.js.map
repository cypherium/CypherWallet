{"version":3,"sources":["src/app/pages/export-keystore/export-keystore.page.html","src/app/pages/export-keystore/export-keystore.module.ts","src/app/pages/export-keystore/export-keystore.page.scss","src/app/pages/export-keystore/export-keystore.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,yiCAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWf,QAAM,MAAM,GAAW,CACrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,SAAS,EAAE,kDAAA,CAAA,oBAAA;AAFb,KADqB,CAAvB;;AAkBA,QAAa,wBAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,wBAAwB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAXpC,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CACP,4CAAA,CAAA,cAAA,CADO,EAEP,2CAAA,CAAA,aAAA,CAFO,EAGP,2CAAA,CAAA,aAAA,CAHO,EAIP,0DAAA,CAAA,kBAAA,CAJO,EAKP,gDAAA,CAAA,iBAAA,CALO,EAMP,4CAAA,CAAA,cAAA,CAAA,CAAa,QAAb,CAAsB,MAAtB,CANO,CADD;AASR,MAAA,YAAY,EAAE,CAAC,kDAAA,CAAA,oBAAA,CAAD;AATN,KAAT,CAWoC,CAAA,EAAxB,wBAAwB,CAAxB;;;;;;;;;;;;;;;;AC7Bb,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,+mBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACaf,QAAa,kBAAb;AAAA;AAAA;AAKI,kCACY,MADZ,EAEY,MAFZ,EAGY,MAHZ,EAIY,IAJZ,EAKY,OALZ,EAKkC;AAAA;;AAJtB,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,IAAA,GAAA,IAAA;AACA,aAAA,OAAA,GAAA,OAAA;AATZ,aAAA,QAAA,GAAW,EAAX;AACA,aAAA,MAAA,GAAc,EAAd;AACA,aAAA,oBAAA,GAAuB,KAAvB;AAQK;;AAXT;AAAA;AAAA,mCAaY;AAAA;;AACJ,eAAK,MAAL,GAAc,KAAK,MAAL,CAAY,WAAZ,CAAwB,KAAK,MAAL,CAAY,kBAApC,CAAd,CADI,CAEJ;;AAEA,UAAA,UAAU,CAAC,YAAK;AACZ,YAAA,KAAI,CAAC,oBAAL,GAA4B,IAA5B;AACH,WAFS,EAEP,GAFO,CAAV;AAGH;AApBL;AAAA;AAAA,uCAsBsB;;;;;;;;;AACd,yBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAK,QAAtB;;AACY,2BAAM,KAAK,MAAL,CAAY,YAAZ,CAAyB,0BAAzB,CAAN;;;AAAR,oBAAA,K;AACJ,yBAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB;;;;;;;;;AACH;AA1BL;AAAA;AAAA,uCA4BgB;AACR,eAAK,oBAAL,GAA4B,KAA5B;AACA,eAAK,OAAL,CAAa,GAAb;AACH;AA/BL;AAAA;AAAA,sCAiCkB,UAjClB,EAiC4B;AACpB,eAAK,oBAAL,GAA4B,KAA5B;AACA,eAAK,QAAL,GAAgB,KAAK,MAAL,CAAY,QAA5B;AACH;AApCL;AAAA;AAAA,gDAuCyB;AAAA;;AACjB,eAAK,oBAAL,GAA4B,KAA5B,CADiB,CAGjB;;AACA,eAAK,MAAL,CAAY,IAAZ,GAAmB,IAAnB,CAAwB,UAAC,GAAD,EAAa;AACjC,YAAA,OAAO,CAAC,GAAR,CAAY,oBAAoB,IAAI,CAAC,SAAL,CAAe,GAAf,CAAhC,EADiC,CAEjC;;AACA,YAAA,MAAI,CAAC,MAAL,CAAY,UAAZ,CAAuB,GAAG,CAAC,IAA3B,EAAiC,UAAC,GAAD,EAAQ;AACrC,cAAA,MAAI,CAAC,IAAL,CAAU,IAAV,CAAe,GAAf,EAAoB;AAChB,gBAAA,QAAQ,EAAE,MAAI,CAAC,MAAL,CAAY;AADN,eAApB,EAEG;AACC,gBAAA,WAAW,EAAE;AADd,eAFH,EAIG,SAJH,CAIa,UAAA,GAAG,EAAG;AACf,gBAAA,OAAO,CAAC,GAAR,CAAY,0BAA0B,GAAtC;AACH,eAND;AAOH,aARD;AASH,WAZD;AAaH;AAxDL;;AAAA;AAAA,OAAA;;;;cAMwB,6DAAA,CAAA,eAAA;;cACA,6DAAA,CAAA,eAAA;;cACA,6DAAA,CAAA,eAAA;;cACF,yDAAA,CAAA,aAAA;;cACG,2CAAA,CAAA,eAAA;;;;AAVZ,IAAA,kBAAkB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAL9B,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACP,MAAA,QAAQ,EAAE,qBADH;AAEP,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,uGAAA,CAAA,EAAA,OAFO;;;;AAAA,KAAV,CAK8B,E,uEAMP,6DAAA,CAAA,eAAA,C,EACA,6DAAA,CAAA,eAAA,C,EACA,6DAAA,CAAA,eAAA,C,EACF,yDAAA,CAAA,aAAA,C,EACG,2CAAA,CAAA,eAAA,C,EAVM,CAAA,EAAlB,kBAAkB,CAAlB","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>{{ 'EXPORT_KEYSTORE' | translate }}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div class=\\\"main\\\">\\n        <div class=\\\"tips\\\" translate>\\n            WXPORT_KEYSTORE_TIPS\\n        </div>\\n\\n        <div class=\\\"textarea\\\">\\n            {{ keystore }}\\n        </div>\\n    </div>\\n\\n    <div class=\\\"bottom-button\\\">\\n        <div class=\\\"confirm-button\\\" tappble (click)=\\\"copyKeystore()\\\" translate>COPY_KEYSTORE</div>\\n        <div class=\\\"confirm-button\\\" (click)=\\\"exportKeystoreToMiner()\\\" translate>EXPORT_KEYSTORE_MINER\\n        </div>\\n    </div>\\n</ion-content>\\n\\n<app-generate-privatekey *ngIf=\\\"ifShowPasswordPrompt\\\" promptDesc=\\\"{{ 'INPUT_PASSWORD_TIPS' | translate }}\\\"\\n    cancelText=\\\"{{ 'CANCEL' | translate }}\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (cancel)=\\\"cancelPrompt()\\\"\\n    (confirm)=\\\"confirmPrompt($event)\\\"></app-generate-privatekey>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ExportKeystorePage } from './export-keystore.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ExportKeystorePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ExportKeystorePage]\n})\nexport class ExportKeystorePageModule { }\n","export default \".textarea {\\n  margin-top: 8px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jeXBoZXIwMS9nby9zcmMvZ2l0aHViLmNvbS9jeXBoZXJpdW0vd2FsbGV0YXBwL3NyYy9hcHAvcGFnZXMvZXhwb3J0LWtleXN0b3JlL2V4cG9ydC1rZXlzdG9yZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2V4cG9ydC1rZXlzdG9yZS9leHBvcnQta2V5c3RvcmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZXhwb3J0LWtleXN0b3JlL2V4cG9ydC1rZXlzdG9yZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dGFyZWEge1xuICAgIG1hcmdpbi10b3A6IDhweDtcbn0iLCIudGV4dGFyZWEge1xuICBtYXJnaW4tdG9wOiA4cHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { GlobalService } from '../../providers/global/global.service';\nimport { NativeService } from '../../providers/native/native.service';\nimport { HelperService } from '../../providers/helper/helper.service';\nimport { Platform, NavController } from '@ionic/angular';\nimport { HttpService } from \"../../providers/http/http.service\";\n\n@Component({\n    selector: 'app-export-keystore',\n    templateUrl: './export-keystore.page.html',\n    styleUrls: ['./export-keystore.page.scss'],\n})\nexport class ExportKeystorePage implements OnInit {\n    keystore = \"\";\n    wallet: any = {};\n    ifShowPasswordPrompt = false;\n\n    constructor(\n        private global: GlobalService,\n        private native: NativeService,\n        private helper: HelperService,\n        private http: HttpService,\n        private navCtrl: NavController,\n    ) { }\n\n    ngOnInit() {\n        this.wallet = this.global.gWalletList[this.global.currentWalletIndex];\n        // this.keystore = this.wallet.keystore;\n\n        setTimeout(() => {\n            this.ifShowPasswordPrompt = true;\n        }, 500)\n    }\n\n    async copyKeystore() {\n        this.native.copy(this.keystore);\n        let error = await this.helper.getTranslate('KEYSTORE_COPYIED_SUCCRRF');\n        this.helper.toast(error);\n    }\n\n    cancelPrompt() {\n        this.ifShowPasswordPrompt = false;\n        this.navCtrl.pop();\n    }\n\n    confirmPrompt(privateKey) {\n        this.ifShowPasswordPrompt = false;\n        this.keystore = this.wallet.keystore;\n    }\n\n\n    exportKeystoreToMiner() {\n        this.ifShowPasswordPrompt = false;\n\n        // console.log(\"导出keystore到挖矿应用...\");\n        this.native.scan().then((res: any) => {\n            console.log(\"Scan over...。。。\" + JSON.stringify(res));\n            // this.handleText(res.text);\n            this.helper.handleText(res.text, (url) => {\n                this.http.post(url, {\n                    keystore: this.wallet.keystore\n                }, {\n                    ignoreError: true\n                }).subscribe(res => {\n                    console.log(\"keystore transmitted：\" + res);\n                })\n            })\n        })\n    }\n\n}\n"],"sourceRoot":"webpack:///","file":"pages-export-keystore-export-keystore-module-es5.js"}