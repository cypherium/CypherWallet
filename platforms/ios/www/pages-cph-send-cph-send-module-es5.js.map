{"version":3,"sources":["src/app/pages/cph-send/cph-send.page.html","src/app/pages/cph-send/cph-send.module.ts","src/app/pages/cph-send/cph-send.page.scss","src/app/pages/cph-send/cph-send.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <!-- <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons> -->\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"back()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>{{ 'SEND' | translate }}</ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button tappable (click)=\\\"scan()\\\">\\n                <ion-icon size=\\\"small\\\" slot=\\\"icon-only\\\" src=\\\"assets/imgs/scan.svg\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div class=\\\"main\\\">\\n        <div class=\\\"input-text-wrapper\\\">\\n            <div class=\\\"label\\\">\\n                <div class=\\\"desc\\\">{{ 'SEND_AMOUNT' | translate }}</div>\\n                <div class=\\\"amount\\\">\\n                    <span class=\\\"tip\\\">{{ 'BALANCE' | translate }}</span> {{ amount | coinDisplay }} CPH\\n                </div>\\n            </div>\\n            <div class=\\\"input-wrapper\\\">\\n                <input type=\\\"tel\\\" (keyup)=\\\"checkAmount()\\\" [(ngModel)]=\\\"payAmount\\\"\\n                    placeholder=\\\"{{ 'INPUT_AMOUNT_TIPS' | translate }}\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"error-text\\\" *ngIf=\\\"amountError\\\">{{ amountError }}</div>\\n\\n        <div class=\\\"input-text-wrapper\\\">\\n            <div class=\\\"label\\\" translate>RECEIVE_ADDRESS</div>\\n            <div class=\\\"input-wrapper\\\">\\n                <input type=\\\"text\\\" (keyup)=\\\"checkAddr()\\\" [(ngModel)]=\\\"receiveAddress\\\"\\n                    placeholder=\\\"{{ 'INPUT_ADDR_TIPS' | translate }}\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"error-text\\\" *ngIf=\\\"addressError\\\">{{ addressError }}</div>\\n\\n        <div class=\\\"range-wrapper\\\">\\n            <div class=\\\"label\\\">\\n                <div class=\\\"desc\\\" translate>MINER_FEE</div>\\n                <div class=\\\"amount\\\">\\n                    <span class=\\\"tip\\\">{{ (range * 21000 / 1000000000) | coinDisplay }} CPH</span>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"range\\\">\\n                <ion-range mode=\\\"ios\\\" pin=\\\"true\\\" (ionChange)=\\\"changeRange($event)\\\" [(ngModel)]=\\\"range\\\" [min]=\\\"min\\\"\\n                    [max]=\\\"max\\\"></ion-range>\\n                <ion-label class=\\\"desc\\\">\\n                    <p translate>QUICK</p>\\n                    <p translate>SLOW</p>\\n                </ion-label>\\n            </div>\\n\\n        </div>\\n    </div>\\n\\n    <div class=\\\"confirm-button bottom-button hide-when-keyboard-shown\\\"\\n        [ngClass]=\\\"(addressError || amountError || !receiveAddress || !amount) ? 'disabled' : ''\\\"\\n        (click)=\\\"transferConfirm()\\\" translate=\\\"\\\">\\n        CONFIRM</div>\\n</ion-content>\\n\\n<app-generate-privatekey *ngIf=\\\"ifShowPasswordPrompt\\\" promptDesc=\\\"{{ 'INPUT_PASSWORD_TIPS' | translate }}\\\"\\n    cancelText=\\\"{{ 'CANCEL' | translate }}\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (cancel)=\\\"cancelPrompt()\\\"\\n    (confirm)=\\\"confirmPrompt($event)\\\"></app-generate-privatekey>\\n\\n<app-alert [title]=\\\"alertTitle\\\" [desc]=\\\"alertDesc\\\" *ngIf=\\\"ifShowAlert\\\" cancelText=\\\"{{ 'CANCEL' | translate }}\\\"\\n    (cancel)=\\\"cancelAlert()\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (confirm)=\\\"confirmAlert()\\\">\\n</app-alert>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CphSendPage } from './cph-send.page';\nimport { PipesModule } from '../../pipes/pipes.module';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CphSendPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CphSendPage]\n})\nexport class CphSendPageModule { }\n","export default \".main {\\n  padding-top: 24px;\\n}\\n.main .label {\\n  display: -webkit-box;\\n  display: flex;\\n}\\n.main .label .desc {\\n  -webkit-box-flex: 1;\\n          flex: 1;\\n  line-height: 44px;\\n}\\n.main .label .tip {\\n  color: var(--tips-color);\\n  font-size: 12px;\\n  line-height: 44px;\\n}\\n.main .range-wrapper {\\n  margin-top: 18px;\\n}\\n.main .range ion-range {\\n  --bar-background: var(--border-color);\\n  --bar-active-background: var(--main-color);\\n  --bar-height: 4px;\\n  --knob-background: var(--main-color);\\n  --knob-size: 24px;\\n  padding: 0;\\n}\\n.main .desc {\\n  font-size: 12px;\\n  line-height: 18px;\\n  color: var(--tip-color);\\n  overflow: hidden;\\n}\\n.main .desc p {\\n  float: left;\\n}\\n.main .desc p:last-child {\\n  float: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93c3MvZ28vc3JjL2dpdGh1Yi5jb20vY3lwaGVyaXVtL3dhbGxldGFwcC9zcmMvYXBwL3BhZ2VzL2NwaC1zZW5kL2NwaC1zZW5kLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY3BoLXNlbmQvY3BoLXNlbmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUJBQUE7QUNDSjtBRENJO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0FDQ1I7QURDUTtFQUNJLG1CQUFBO1VBQUEsT0FBQTtFQUNBLGlCQUFBO0FDQ1o7QURFUTtFQUNJLHdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FDQVo7QURJSTtFQUNJLGdCQUFBO0FDRlI7QURRUTtFQUNJLHFDQUFBO0VBQ0EsMENBQUE7RUFDQSxpQkFBQTtFQUNBLG9DQUFBO0VBQ0EsaUJBQUE7RUFDQSxVQUFBO0FDTlo7QURVSTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUNSUjtBRFVRO0VBQ0ksV0FBQTtBQ1JaO0FEV1E7RUFDSSxZQUFBO0FDVFoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jcGgtc2VuZC9jcGgtc2VuZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbiB7XG4gICAgcGFkZGluZy10b3A6IDI0cHg7XG5cbiAgICAubGFiZWwge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgICAgIC5kZXNjIHtcbiAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNDRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50aXAge1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLXRpcHMtY29sb3IpO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAucmFuZ2Utd3JhcHBlciB7XG4gICAgICAgIG1hcmdpbi10b3A6IDE4cHg7XG4gICAgfVxuXG4gICAgLnJhbmdlIHtcbiAgICAgICAgLy8gcGFkZGluZy10b3A6IDIwcHg7XG5cbiAgICAgICAgaW9uLXJhbmdlIHtcbiAgICAgICAgICAgIC0tYmFyLWJhY2tncm91bmQ6IHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICAgICAgICAtLWJhci1hY3RpdmUtYmFja2dyb3VuZDogdmFyKC0tbWFpbi1jb2xvcik7XG4gICAgICAgICAgICAtLWJhci1oZWlnaHQ6IDRweDtcbiAgICAgICAgICAgIC0ta25vYi1iYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWNvbG9yKTtcbiAgICAgICAgICAgIC0ta25vYi1zaXplOiAyNHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5kZXNjIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRpcC1jb2xvcik7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAgICAgcCB7XG4gICAgICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHA6bGFzdC1jaGlsZCB7XG4gICAgICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLm1haW4ge1xuICBwYWRkaW5nLXRvcDogMjRweDtcbn1cbi5tYWluIC5sYWJlbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4ubWFpbiAubGFiZWwgLmRlc2Mge1xuICBmbGV4OiAxO1xuICBsaW5lLWhlaWdodDogNDRweDtcbn1cbi5tYWluIC5sYWJlbCAudGlwIHtcbiAgY29sb3I6IHZhcigtLXRpcHMtY29sb3IpO1xuICBmb250LXNpemU6IDEycHg7XG4gIGxpbmUtaGVpZ2h0OiA0NHB4O1xufVxuLm1haW4gLnJhbmdlLXdyYXBwZXIge1xuICBtYXJnaW4tdG9wOiAxOHB4O1xufVxuLm1haW4gLnJhbmdlIGlvbi1yYW5nZSB7XG4gIC0tYmFyLWJhY2tncm91bmQ6IHZhcigtLWJvcmRlci1jb2xvcik7XG4gIC0tYmFyLWFjdGl2ZS1iYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWNvbG9yKTtcbiAgLS1iYXItaGVpZ2h0OiA0cHg7XG4gIC0ta25vYi1iYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWNvbG9yKTtcbiAgLS1rbm9iLXNpemU6IDI0cHg7XG4gIHBhZGRpbmc6IDA7XG59XG4ubWFpbiAuZGVzYyB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gIGNvbG9yOiB2YXIoLS10aXAtY29sb3IpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLm1haW4gLmRlc2MgcCB7XG4gIGZsb2F0OiBsZWZ0O1xufVxuLm1haW4gLmRlc2MgcDpsYXN0LWNoaWxkIHtcbiAgZmxvYXQ6IHJpZ2h0O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { GlobalService } from '../../providers/global/global.service';\nimport { HelperService } from '../../providers/helper/helper.service';\nimport { Storage } from '@ionic/storage';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { Web3Service } from '../../providers/web3/web3.service';\nimport { NativeService } from '../../providers/native/native.service';\nimport { NavController } from '@ionic/angular';\n@Component({\n    selector: 'app-cph-send',\n    templateUrl: './cph-send.page.html',\n    styleUrls: ['./cph-send.page.scss'],\n})\nexport class CphSendPage implements OnInit {\n    range = 25;\n    wallet: any = {};\n    amount = 0;\n    receiveAddress = \"\";\n    payAmount: any = \"\";\n    min = 1;\n    max = 100;\n    amountError = \"\";\n    addressError = \"\";\n    ifShowPasswordPrompt = false;\n    ifShowAlert = false;\n    alertTitle = \"\";\n    alertDesc = \"\";\n\n    constructor(\n        private router: Router,\n        // private clipboard: Clipboard,\n        private helper: HelperService,\n        private global: GlobalService,\n        private storage: Storage,\n        private web3: Web3Service,\n        public nav: NavController,\n        private native: NativeService\n    ) { }\n\n    back() {\n        this.nav.navigateBack('/wallet');\n    }\n\n    async ngOnInit() {\n        this.wallet = this.global.gWalletList[this.global.currentWalletIndex];\n        console.log(this.global.gWalletList, this.global.currentWalletIndex)\n        //获取余额\n        this.amount = await this.web3.getCphBalance(this.wallet.addr);\n        let state = this.router.getCurrentNavigation();\n        if (state) {\n            let obj = state.extras.state;\n            this.receiveAddress = obj.address;\n        }\n    }\n\n    scan() {\n        this.native.scan().then(async (res: any) => {\n            console.log(\"SCAN RESULT：\", res);\n            this.helper.handleText(res.text, async (url, method) => {\n                if (method == 'transfer') {\n                    let result = await this.web3.isCphAddr(url);\n                    if (result == 0) {\n                        this.receiveAddress = res;\n                    } else {\n                        let message = await this.helper.getTranslate('UNKNOWN_RESULT');\n                        this.helper.toast(message);\n                    }\n                }\n\n            })\n        }, res => {\n            // if (res == 1) {\n            //     //临时拒绝\n\n            // } else if (res == 0) {\n            //     //永久拒绝\n            //     this.ifShowAlert = true;\n            //     this.alertTitle = \"权限拒绝\";\n            //     this.alertDesc = \"您已拒绝摄像头权限，请前往应用管理打开\";\n            // } else {\n            //     this.helper.toast(\"扫码失败\");\n            // }\n        })\n    }\n\n    cancelPrompt() {\n        this.ifShowPasswordPrompt = false;\n    }\n\n    confirmPrompt(privateKey) {\n        console.log(\"Private key...\", privateKey);\n        this.ifShowPasswordPrompt = false;\n        this.transfer(privateKey);\n    }\n\n    cancelAlert() {\n        this.ifShowAlert = false;\n    }\n\n    confirmAlert() {\n        this.ifShowAlert = false;\n        this.native.openSettings('application');\n    }\n\n    async checkAmount() {\n        this.amountError = \"\";\n        let amount = +this.payAmount;\n        if (amount <= 0) {\n            let message = await this.helper.getTranslate('AMOUNT_ILLEGAL');\n            this.amountError = message;\n            return;\n        }\n        console.log(`${amount}, ${this.range}, ${this.amount}`);\n        if (amount + this.range * 21000 / 1000000000 > this.amount) {\n            let message = await this.helper.getTranslate('BALANCE_INFFICIENT');\n            this.amountError = message;\n            return;\n        }\n    }\n\n    async checkAddr() {\n        this.addressError = \"\";\n\n        let result = await this.web3.isCphAddr(this.receiveAddress.toLowerCase());\n        if (result == -1) {\n            let message = await this.helper.getTranslate('ADDRESS_EMPTY');\n            this.addressError = message;\n        } else if (result == -2) {\n            let message = await this.helper.getTranslate('ADDRESS_ERROR');\n            this.addressError = message;\n        }\n    }\n\n    changeRange(e) {\n    }\n\n    async transferConfirm() {\n        await this.checkAmount();\n        if (this.amountError) {\n            return;\n        }\n\n        await this.checkAddr();\n        if (this.addressError) {\n            return;\n        }\n        //引导用户输入密码\n        this.ifShowPasswordPrompt = true;\n    }\n\n    async transfer(privatekey) {\n        let address = this.receiveAddress.toLowerCase().replace('cph', '0x');\n        this.web3.transferCph(this.wallet.addr, address, this.payAmount, this.range, privatekey, async (err, tx) => {\n            console.log(\"Transaction callback.......\", err, tx);\n            if (err === null) {\n                // resolve(tx);\n                // this.helper.toast(\"交易成功\");\n                let navigationExtras = {\n                    state: {\n                        tx: tx,\n                        status: 1 //0-成功，1:打包中，2:失败\n                    }\n                };\n                //前往交易结果页\n                this.router.navigate(['transaction-result'], navigationExtras);\n            } else {\n                let message = await this.helper.getTranslate('TRANSACTION_FAILED');\n                if (err.message.toLowerCase().indexOf('insufficient funds for gas') > -1) {\n                    message = await this.helper.getTranslate('BALANCE_INFFICIENT');\n                } else if (err.message.toLowerCase().indexOf('replacement transaction underpriced') > -1) {\n                    message = await this.helper.getTranslate('NONCE_ERROR');\n                } else {\n                    message = message + ': ' + err.message;\n                }\n                this.helper.toast(message)\n            }\n        })\n    }\n\n}\n"],"sourceRoot":"webpack:///","file":"pages-cph-send-cph-send-module-es5.js"}