{"version":3,"sources":["./src/app/pages/scan/scan.page.html","./src/app/pages/scan/scan.module.ts","./src/app/pages/scan/scan.page.scss","./src/app/pages/scan/scan.page.ts"],"names":[],"mappings":"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","file":"pages-scan-scan-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-title>{{ 'SCAN' | translate }}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [ngClass]=\\\"{'qrscanner':isShow}\\\">\\n    <div class=\\\"area\\\"></div>\\n    <div class=\\\"line\\\"></div>\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"showIcon\\\">\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"close()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/close.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">CANCEL</span>\\n    </div>\\n    <div class=\\\"warp-icon\\\" tappable (click)=\\\"toggleLight()\\\">\\n        <img src=\\\"./assets/imgs/qrscanner/flashlight.svg\\\" alt=\\\"\\\">\\n        <span translate=\\\"\\\">TORCH</span>\\n    </div>\\n</ion-footer>\\n\\n<app-alert [title]=\\\"alertTitle\\\" [desc]=\\\"alertDesc\\\" *ngIf=\\\"ifShowAlert\\\" cancelText=\\\"{{ 'CANCEL' | translate }}\\\"\\n    (cancel)=\\\"cancelAlert()\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (confirm)=\\\"confirmAlert()\\\">\\n</app-alert>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanPage } from './scan.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ScanPage]\n})\nexport class ScanPageModule { }\n","export default \"ion-app.cameraView,\\nion-app.cameraView .nav-decor {\\n  background: transparent none !important;\\n}\\nion-app.cameraView .tabbar.show-tabbar,\\nion-app.cameraView .nav-decor .tabbar.show-tabbar {\\n  opacity: 0;\\n}\\nion-app.cameraView ion-content {\\n  --background: transparent none !important;\\n}\\n.qrscanner {\\n  background: none;\\n}\\n.qrscanner .area {\\n  margin-top: 30px;\\n  width: 100%;\\n  height: 90%;\\n  background: url('scanner.svg') no-repeat center center;\\n  background-size: contain;\\n}\\n.qrscanner .line {\\n  left: 25%;\\n  width: 50%;\\n  height: 2px;\\n  background: red;\\n  position: absolute;\\n  -webkit-animation: myfirst 2s linear infinite alternate;\\n          animation: myfirst 2s linear infinite alternate;\\n}\\n@-webkit-keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\n@keyframes myfirst {\\n  0% {\\n    background: red;\\n    top: 34%;\\n  }\\n  25% {\\n    background: yellow;\\n    top: 40%;\\n  }\\n  50% {\\n    background: blue;\\n    top: 46%;\\n  }\\n  75% {\\n    background: green;\\n    top: 52%;\\n  }\\n  100% {\\n    background: red;\\n    top: 60%;\\n  }\\n}\\nion-footer {\\n  display: -webkit-box;\\n  display: flex;\\n  justify-content: space-around;\\n  padding: 22px;\\n}\\nion-footer .warp-icon {\\n  width: 54px;\\n  height: 54px;\\n  background: #fff;\\n  border-radius: 50%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\nion-footer .warp-icon span {\\n  position: absolute;\\n  margin-top: 38px;\\n  font-size: 12px;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jeXBoZXIwMS9nby9zcmMvZ2l0aHViLmNvbS9jeXBoZXJpdW0vd2FsbGV0YXBwL3NyYy9hcHAvcGFnZXMvc2Nhbi9zY2FuLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc2Nhbi9zY2FuLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFSSx1Q0FBQTtBQ0NKO0FEQ0k7O0VBQ0ksVUFBQTtBQ0VSO0FERUE7RUFDSSx5Q0FBQTtBQ0NKO0FESUE7RUFDSSxnQkFBQTtBQ0RKO0FER0k7RUFDSSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0Esc0RBQUE7RUFDQSx3QkFBQTtBQ0RSO0FESUk7RUFDSSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSx1REFBQTtVQUFBLCtDQUFBO0FDRlI7QURLSTtFQUNJO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNIVjtFRE1NO0lBQ0ksa0JBQUE7SUFDQSxRQUFBO0VDSlY7RURPTTtJQUNJLGdCQUFBO0lBQ0EsUUFBQTtFQ0xWO0VEUU07SUFDSSxpQkFBQTtJQUNBLFFBQUE7RUNOVjtFRFNNO0lBQ0ksZUFBQTtJQUNBLFFBQUE7RUNQVjtBQUNGO0FEakJJO0VBQ0k7SUFDSSxlQUFBO0lBQ0EsUUFBQTtFQ0hWO0VETU07SUFDSSxrQkFBQTtJQUNBLFFBQUE7RUNKVjtFRE9NO0lBQ0ksZ0JBQUE7SUFDQSxRQUFBO0VDTFY7RURRTTtJQUNJLGlCQUFBO0lBQ0EsUUFBQTtFQ05WO0VEU007SUFDSSxlQUFBO0lBQ0EsUUFBQTtFQ1BWO0FBQ0Y7QURXQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDZCQUFBO0VBQ0EsYUFBQTtBQ1JKO0FEVUk7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ1JSO0FEVVE7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUNSWiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NjYW4vc2Nhbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYXBwLmNhbWVyYVZpZXcsXG5pb24tYXBwLmNhbWVyYVZpZXcgLm5hdi1kZWNvciB7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xuXG4gICAgLnRhYmJhci5zaG93LXRhYmJhciB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxufVxuXG5pb24tYXBwLmNhbWVyYVZpZXcgaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xufVxuXG5cbi8vIHBhZ2Utc2NhbiB7XG4ucXJzY2FubmVyIHtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuXG4gICAgLmFyZWEge1xuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiA5MCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1ncy9xcnNjYW5uZXIvc2Nhbm5lci5zdmcpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgfVxuXG4gICAgLmxpbmUge1xuICAgICAgICBsZWZ0OiAyNSU7XG4gICAgICAgIHdpZHRoOiA1MCU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYW5pbWF0aW9uOiBteWZpcnN0IDJzIGxpbmVhciBpbmZpbml0ZSBhbHRlcm5hdGU7XG4gICAgfVxuXG4gICAgQGtleWZyYW1lcyBteWZpcnN0IHtcbiAgICAgICAgMCUge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICAgICAgdG9wOiAzNCU7XG4gICAgICAgIH1cblxuICAgICAgICAyNSUge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogeWVsbG93O1xuICAgICAgICAgICAgdG9wOiA0MCU7XG4gICAgICAgIH1cblxuICAgICAgICA1MCUge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogYmx1ZTtcbiAgICAgICAgICAgIHRvcDogNDYlO1xuICAgICAgICB9XG5cbiAgICAgICAgNzUlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGdyZWVuO1xuICAgICAgICAgICAgdG9wOiA1MiU7XG4gICAgICAgIH1cblxuICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgICAgIHRvcDogNjAlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5pb24tZm9vdGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgIHBhZGRpbmc6IDIycHg7XG5cbiAgICAud2FycC1pY29uIHtcbiAgICAgICAgd2lkdGg6IDU0cHg7XG4gICAgICAgIGhlaWdodDogNTRweDtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDM4cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gfSIsImlvbi1hcHAuY2FtZXJhVmlldyxcbmlvbi1hcHAuY2FtZXJhVmlldyAubmF2LWRlY29yIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xufVxuaW9uLWFwcC5jYW1lcmFWaWV3IC50YWJiYXIuc2hvdy10YWJiYXIsXG5pb24tYXBwLmNhbWVyYVZpZXcgLm5hdi1kZWNvciAudGFiYmFyLnNob3ctdGFiYmFyIHtcbiAgb3BhY2l0eTogMDtcbn1cblxuaW9uLWFwcC5jYW1lcmFWaWV3IGlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCBub25lICFpbXBvcnRhbnQ7XG59XG5cbi5xcnNjYW5uZXIge1xuICBiYWNrZ3JvdW5kOiBub25lO1xufVxuLnFyc2Nhbm5lciAuYXJlYSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDkwJTtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWdzL3Fyc2Nhbm5lci9zY2FubmVyLnN2Zykgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXI7XG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcbn1cbi5xcnNjYW5uZXIgLmxpbmUge1xuICBsZWZ0OiAyNSU7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogMnB4O1xuICBiYWNrZ3JvdW5kOiByZWQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYW5pbWF0aW9uOiBteWZpcnN0IDJzIGxpbmVhciBpbmZpbml0ZSBhbHRlcm5hdGU7XG59XG5Aa2V5ZnJhbWVzIG15Zmlyc3Qge1xuICAwJSB7XG4gICAgYmFja2dyb3VuZDogcmVkO1xuICAgIHRvcDogMzQlO1xuICB9XG4gIDI1JSB7XG4gICAgYmFja2dyb3VuZDogeWVsbG93O1xuICAgIHRvcDogNDAlO1xuICB9XG4gIDUwJSB7XG4gICAgYmFja2dyb3VuZDogYmx1ZTtcbiAgICB0b3A6IDQ2JTtcbiAgfVxuICA3NSUge1xuICAgIGJhY2tncm91bmQ6IGdyZWVuO1xuICAgIHRvcDogNTIlO1xuICB9XG4gIDEwMCUge1xuICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICB0b3A6IDYwJTtcbiAgfVxufVxuXG5pb24tZm9vdGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIHBhZGRpbmc6IDIycHg7XG59XG5pb24tZm9vdGVyIC53YXJwLWljb24ge1xuICB3aWR0aDogNTRweDtcbiAgaGVpZ2h0OiA1NHB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuaW9uLWZvb3RlciAud2FycC1pY29uIHNwYW4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbi10b3A6IDM4cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6ICNmZmY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Events, NavController } from '@ionic/angular';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings/ngx';\n\n\n@Component({\n    selector: 'app-scan',\n    templateUrl: './scan.page.html',\n    styleUrls: ['./scan.page.scss'],\n})\n\nexport class ScanPage implements OnInit {\n    light: boolean = false; // 判断闪光灯\n    isShow: boolean = false; // 控制显示背景，避免切换页面卡顿\n    showIcon = false;\n\n    ifShowAlert = false;\n    alertTitle: string;\n    alertDesc: string;\n    alertCancelText: string;\n    alertConfirmText: string;\n    confirmAlert: any;\n    cancelAlert: any;\n\n    constructor(\n        private navCtrl: NavController,\n        private events: Events,\n        // private global: GlobalProvider,\n        private openSetting: OpenNativeSettings,\n        private qrScanner: QRScanner) {\n    }\n\n    ngOnInit() {\n        this.qrScanner.prepare().then((status: QRScannerStatus) => {\n            if (status.authorized) { // 判断是否有摄像头权限\n                let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n                    this.events.publish('qrscanner:result', text);\n                    scanSub.unsubscribe();\n                    this.ifShowAlert = false;\n                    setTimeout(() => {\n                        this.navCtrl.pop();\n                    }, 100);\n                });\n                // 打开摄像头\n                this.qrScanner.show();\n            } else if (status.denied) {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            } else {\n                this.permisionPopUp();\n                // this.nativeService.alert('没有权限', '没有摄像头权限，请前往设置中开启', () => {\n                // this.qrScanner.openSettings();\n                // });\n            }\n        }).catch((e: any) => {\n            console.log(\"catch.........\")\n            this.permisionPopUp();\n        });\n    }\n\n    permisionPopUp() {\n        this.createAlert(\"权限申请\", \"扫码需要获取摄像头权限\", \"取消\", \"同意\", () => {\n            this.navCtrl.pop();\n        }, () => {\n            this.navCtrl.pop();\n            this.qrScanner.openSettings();\n            // this.openSetting.open('application_details');\n        });\n        // let promises = [\n        //     this.global.getTranslate('PERMISIONCAMERA'),\n        //     this.global.getTranslate(\"GETPERMISIONCAMERA\"),\n        //     this.global.getTranslate(\"DENY\"),\n        //     this.global.getTranslate(\"ALLOW\")\n        // ];\n        // Promise.all(promises)\n        //     .then((text: any) => {\n        //         this.createAlert(text[0], text[1], text[2], text[3], () => {\n        //             console.log(\"用户拒绝授予权限\");\n        //             this.navCtrl.pop();\n        //         }, () => {\n        //             console.log(\"用户同意授予权限\")\n        //             this.navCtrl.pop();\n        //             this.qrScanner.openSettings();\n        //             // this.openSetting.open('application_details');\n        //         });\n        //     })\n    }\n\n    createAlert(title, message, cancelText: any = '', confirmText: any = '', cancelAlert = null, confirmAlert = () => { }) {\n        this.alertTitle = title;\n        this.alertDesc = message;\n        this.alertCancelText = cancelText;\n        this.alertConfirmText = confirmText;\n        this.confirmAlert = () => {\n            confirmAlert();\n            this.closeAlert();\n        };\n        this.cancelAlert = () => {\n            this.closeAlert();\n            cancelAlert();\n        }\n        this.ifShowAlert = true;\n    }\n\n    closeAlert() {\n        this.ifShowAlert = false;\n    }\n\n    ionViewWillEnter() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.add('cameraView'); // tslint:disable-line\n        this.isShow = true; // 显示背景\n        this.showIcon = true;\n    }\n\n    ionViewWillLeave() {\n        (window.document.querySelector('ion-app') as HTMLElement).classList.remove('cameraView'); // tslint:disable-line\n        this.qrScanner.hide(); // 需要关闭扫描，否则相机一直开着\n        this.qrScanner.destroy(); // 关闭\n        this.showIcon = false;\n        this.events.unsubscribe('qrscanner:result'); // 退出页面取消所有订阅，进入页面前需订阅\n    }\n\n    // 开关手电筒\n    toggleLight() {\n        this.light ? this.qrScanner.disableLight() : this.qrScanner.enableLight();\n        this.light = !this.light;\n    }\n\n    // 取消扫描\n    close() {\n        this.navCtrl.pop();\n    }\n\n}"],"sourceRoot":"webpack:///"}