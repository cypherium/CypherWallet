{"version":3,"sources":["./src/app/pages/cph-send/cph-send.page.html","./src/app/pages/cph-send/cph-send.module.ts","./src/app/pages/cph-send/cph-send.page.scss","./src/app/pages/cph-send/cph-send.page.ts"],"names":[],"mappings":"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","file":"pages-cph-send-cph-send-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <!-- <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons> -->\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"back()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>{{ 'SEND' | translate }}</ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button tappable (click)=\\\"scan()\\\">\\n                <ion-icon size=\\\"small\\\" slot=\\\"icon-only\\\" src=\\\"assets/imgs/scan.svg\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div class=\\\"main\\\">\\n        <div class=\\\"input-text-wrapper\\\">\\n            <div class=\\\"label\\\">\\n                <div class=\\\"desc\\\">{{ 'SEND_AMOUNT' | translate }}</div>\\n                <div class=\\\"amount\\\">\\n                    <span class=\\\"tip\\\">{{ 'BALANCE' | translate }}</span> {{ amount | coinDisplay }} CPH\\n                </div>\\n            </div>\\n            <div class=\\\"input-wrapper\\\">\\n                <input type=\\\"number\\\" (keyup)=\\\"checkAmount()\\\" [(ngModel)]=\\\"payAmount\\\"\\n                    placeholder=\\\"{{ 'INPUT_AMOUNT_TIPS' | translate }}\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"error-text\\\" *ngIf=\\\"amountError\\\">{{ amountError }}</div>\\n\\n        <div class=\\\"input-text-wrapper\\\">\\n            <div class=\\\"label\\\" translate>RECEIVE_ADDRESS</div>\\n            <div class=\\\"input-wrapper\\\">\\n                <input type=\\\"text\\\" (keyup)=\\\"checkAddr()\\\" [(ngModel)]=\\\"receiveAddress\\\"\\n                    placeholder=\\\"{{ 'INPUT_ADDR_TIPS' | translate }}\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"error-text\\\" *ngIf=\\\"addressError\\\">{{ addressError }}</div>\\n\\n        <div class=\\\"range-wrapper\\\">\\n            <div class=\\\"label\\\">\\n                <div class=\\\"desc\\\" translate>MINER_FEE</div>\\n                <div class=\\\"amount\\\">\\n                    <span class=\\\"tip\\\">{{ (range * 21000 / 1000000000) | coinDisplay }} CPH</span>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"range\\\">\\n                <ion-range mode=\\\"ios\\\" pin=\\\"true\\\" (ionChange)=\\\"changeRange($event)\\\" [(ngModel)]=\\\"range\\\" [min]=\\\"min\\\"\\n                    [max]=\\\"max\\\"></ion-range>\\n                <ion-label class=\\\"desc\\\">\\n                    <p translate>SLOW</p>\\n                    <p translate>QUICK</p>\\n                </ion-label>\\n            </div>\\n\\n        </div>\\n    </div>\\n\\n    <div class=\\\"confirm-button bottom-button hide-when-keyboard-shown\\\"\\n        [ngClass]=\\\"(addressError || amountError || !receiveAddress || !amount) ? 'disabled' : ''\\\"\\n        (click)=\\\"transferConfirm()\\\" translate=\\\"\\\">\\n        CONFIRM</div>\\n</ion-content>\\n\\n<app-generate-privatekey *ngIf=\\\"ifShowPasswordPrompt\\\" promptDesc=\\\"{{ 'INPUT_PASSWORD_TIPS' | translate }}\\\"\\n    cancelText=\\\"{{ 'CANCEL' | translate }}\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (cancel)=\\\"cancelPrompt()\\\"\\n    (confirm)=\\\"confirmPrompt($event)\\\"></app-generate-privatekey>\\n\\n<app-alert [title]=\\\"alertTitle\\\" [desc]=\\\"alertDesc\\\" *ngIf=\\\"ifShowAlert\\\" cancelText=\\\"{{ 'CANCEL' | translate }}\\\"\\n    (cancel)=\\\"cancelAlert()\\\" confirmText=\\\"{{ 'CONFIRM' | translate }}\\\" (confirm)=\\\"confirmAlert()\\\">\\n</app-alert>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CphSendPage } from './cph-send.page';\nimport { PipesModule } from '../../pipes/pipes.module';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CphSendPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CphSendPage]\n})\nexport class CphSendPageModule { }\n","export default \".main {\\n  padding-top: 24px;\\n}\\n.main .label {\\n  display: -webkit-box;\\n  display: flex;\\n}\\n.main .label .desc {\\n  -webkit-box-flex: 1;\\n          flex: 1;\\n  line-height: 44px;\\n}\\n.main .label .tip {\\n  color: var(--tips-color);\\n  font-size: 12px;\\n  line-height: 44px;\\n}\\n.main .range-wrapper {\\n  margin-top: 18px;\\n}\\n.main .range ion-range {\\n  --bar-background: var(--border-color);\\n  --bar-active-background: var(--main-color);\\n  --bar-height: 4px;\\n  --knob-background: var(--main-color);\\n  --knob-size: 24px;\\n  padding: 0;\\n}\\n.main .desc {\\n  font-size: 12px;\\n  line-height: 18px;\\n  color: var(--tip-color);\\n  overflow: hidden;\\n}\\n.main .desc p {\\n  float: left;\\n}\\n.main .desc p:last-child {\\n  float: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93c3MvZ28vc3JjL2dpdGh1Yi5jb20vY3lwaGVyaXVtL3dhbGxldGFwcC9zcmMvYXBwL3BhZ2VzL2NwaC1zZW5kL2NwaC1zZW5kLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY3BoLXNlbmQvY3BoLXNlbmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUJBQUE7QUNDSjtBRENJO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0FDQ1I7QURDUTtFQUNJLG1CQUFBO1VBQUEsT0FBQTtFQUNBLGlCQUFBO0FDQ1o7QURFUTtFQUNJLHdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FDQVo7QURJSTtFQUNJLGdCQUFBO0FDRlI7QURRUTtFQUNJLHFDQUFBO0VBQ0EsMENBQUE7RUFDQSxpQkFBQTtFQUNBLG9DQUFBO0VBQ0EsaUJBQUE7RUFDQSxVQUFBO0FDTlo7QURVSTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUNSUjtBRFVRO0VBQ0ksV0FBQTtBQ1JaO0FEV1E7RUFDSSxZQUFBO0FDVFoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jcGgtc2VuZC9jcGgtc2VuZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbiB7XG4gICAgcGFkZGluZy10b3A6IDI0cHg7XG5cbiAgICAubGFiZWwge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgICAgIC5kZXNjIHtcbiAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNDRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50aXAge1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLXRpcHMtY29sb3IpO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAucmFuZ2Utd3JhcHBlciB7XG4gICAgICAgIG1hcmdpbi10b3A6IDE4cHg7XG4gICAgfVxuXG4gICAgLnJhbmdlIHtcbiAgICAgICAgLy8gcGFkZGluZy10b3A6IDIwcHg7XG5cbiAgICAgICAgaW9uLXJhbmdlIHtcbiAgICAgICAgICAgIC0tYmFyLWJhY2tncm91bmQ6IHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICAgICAgICAtLWJhci1hY3RpdmUtYmFja2dyb3VuZDogdmFyKC0tbWFpbi1jb2xvcik7XG4gICAgICAgICAgICAtLWJhci1oZWlnaHQ6IDRweDtcbiAgICAgICAgICAgIC0ta25vYi1iYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWNvbG9yKTtcbiAgICAgICAgICAgIC0ta25vYi1zaXplOiAyNHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5kZXNjIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRpcC1jb2xvcik7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAgICAgcCB7XG4gICAgICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHA6bGFzdC1jaGlsZCB7XG4gICAgICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLm1haW4ge1xuICBwYWRkaW5nLXRvcDogMjRweDtcbn1cbi5tYWluIC5sYWJlbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4ubWFpbiAubGFiZWwgLmRlc2Mge1xuICBmbGV4OiAxO1xuICBsaW5lLWhlaWdodDogNDRweDtcbn1cbi5tYWluIC5sYWJlbCAudGlwIHtcbiAgY29sb3I6IHZhcigtLXRpcHMtY29sb3IpO1xuICBmb250LXNpemU6IDEycHg7XG4gIGxpbmUtaGVpZ2h0OiA0NHB4O1xufVxuLm1haW4gLnJhbmdlLXdyYXBwZXIge1xuICBtYXJnaW4tdG9wOiAxOHB4O1xufVxuLm1haW4gLnJhbmdlIGlvbi1yYW5nZSB7XG4gIC0tYmFyLWJhY2tncm91bmQ6IHZhcigtLWJvcmRlci1jb2xvcik7XG4gIC0tYmFyLWFjdGl2ZS1iYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWNvbG9yKTtcbiAgLS1iYXItaGVpZ2h0OiA0cHg7XG4gIC0ta25vYi1iYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWNvbG9yKTtcbiAgLS1rbm9iLXNpemU6IDI0cHg7XG4gIHBhZGRpbmc6IDA7XG59XG4ubWFpbiAuZGVzYyB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gIGNvbG9yOiB2YXIoLS10aXAtY29sb3IpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLm1haW4gLmRlc2MgcCB7XG4gIGZsb2F0OiBsZWZ0O1xufVxuLm1haW4gLmRlc2MgcDpsYXN0LWNoaWxkIHtcbiAgZmxvYXQ6IHJpZ2h0O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { GlobalService } from '../../providers/global/global.service';\nimport { HelperService } from '../../providers/helper/helper.service';\nimport { Storage } from '@ionic/storage';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { Web3Service } from '../../providers/web3/web3.service';\nimport { NativeService } from '../../providers/native/native.service';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-cph-send',\n    templateUrl: './cph-send.page.html',\n    styleUrls: ['./cph-send.page.scss'],\n})\nexport class CphSendPage implements OnInit {\n    range = 25;\n    wallet: any = {};\n    amount = 0;\n    receiveAddress = \"\";\n    payAmount: any = \"\";\n    min = 1;\n    max = 100;\n    amountError = \"\";\n    addressError = \"\";\n    ifShowPasswordPrompt = false;\n    ifShowAlert = false;\n    alertTitle = \"\";\n    alertDesc = \"\";\n\n    constructor(\n        private router: Router,\n        // private clipboard: Clipboard,\n        private helper: HelperService,\n        private global: GlobalService,\n        private storage: Storage,\n        private web3: Web3Service,\n        public nav: NavController,\n        private native: NativeService\n    ) { \n        let state = this.router.getCurrentNavigation().extras.state;\n        console.log(\"state\" + state)\n        if (state) {\n            // let obj = state.extras.state;\n            this.receiveAddress = state.address;\n        }\n    }\n\n    back() {\n        this.nav.navigateBack('/wallet');\n    }\n\n    async ngOnInit() {\n        this.wallet = this.global.gWalletList[this.global.currentWalletIndex];\n        console.log(this.global.gWalletList, this.global.currentWalletIndex)\n        //获取余额\n        this.amount = await this.web3.getCphBalance(this.wallet.addr);\n        // let state = this.router.getCurrentNavigation().extras.state;\n        // console.log(\"state\" + state)\n        // if (state) {\n        //     // let obj = state.extras.state;\n        //     this.receiveAddress = state.address;\n        // }\n    }\n\n    scan() {\n        this.native.scan().then(async (res: any) => {\n            console.log(\"SCAN RESULT：\", res);\n            this.helper.handleText(res.text, async (url, method) => {\n                if (method == 'transfer') {\n                    let result = await this.web3.isCphAddr(url);\n                    if (result == 0) {\n                        this.receiveAddress = url;\n                    } else {\n                        let message = await this.helper.getTranslate('UNKNOWN_RESULT');\n                        this.helper.toast(message);\n                    }\n                }\n\n            })\n        }, res => {\n            // if (res == 1) {\n            //     //临时拒绝\n\n            // } else if (res == 0) {\n            //     //永久拒绝\n            //     this.ifShowAlert = true;\n            //     this.alertTitle = \"权限拒绝\";\n            //     this.alertDesc = \"您已拒绝摄像头权限，请前往应用管理打开\";\n            // } else {\n            //     this.helper.toast(\"扫码失败\");\n            // }\n        })\n    }\n\n    cancelPrompt() {\n        this.ifShowPasswordPrompt = false;\n    }\n\n    confirmPrompt(privateKey) {\n        console.log(\"Private key...\", privateKey);\n        this.ifShowPasswordPrompt = false;\n        this.transfer(privateKey);\n    }\n\n    cancelAlert() {\n        this.ifShowAlert = false;\n    }\n\n    confirmAlert() {\n        this.ifShowAlert = false;\n        this.native.openSettings('application');\n    }\n\n    async checkAmount() {\n        this.amountError = \"\";\n        let amount = +this.payAmount;\n        if (amount <= 0) {\n            let message = await this.helper.getTranslate('AMOUNT_ILLEGAL');\n            this.amountError = message;\n            return;\n        }\n        console.log(`${amount}, ${this.range}, ${this.amount}`);\n        if (amount + this.range * 21000 / 1000000000 > this.amount) {\n            let message = await this.helper.getTranslate('BALANCE_INFFICIENT');\n            this.amountError = message;\n            return;\n        }\n    }\n\n    async checkAddr() {\n        this.addressError = \"\";\n\n        let result = await this.web3.isCphAddr(this.receiveAddress.toLowerCase());\n        if (result == -1) {\n            let message = await this.helper.getTranslate('ADDRESS_EMPTY');\n            this.addressError = message;\n        } else if (result == -2) {\n            let message = await this.helper.getTranslate('ADDRESS_ERROR');\n            this.addressError = message;\n        }\n    }\n\n    changeRange(e) {\n    }\n\n    async transferConfirm() {\n        await this.checkAmount();\n        if (this.amountError) {\n            return;\n        }\n\n        await this.checkAddr();\n        if (this.addressError) {\n            return;\n        }\n        //引导用户输入密码\n        this.ifShowPasswordPrompt = true;\n    }\n\n    async transfer(privatekey) {\n        let address = this.receiveAddress.toLowerCase().replace('cph', '0x');\n        this.web3.transferCph(this.wallet.addr, address, this.payAmount, this.range, privatekey, async (err, tx) => {\n            console.log(\"Transaction callback.......\", err, tx);\n            if (err === null) {\n                // resolve(tx);\n                // this.helper.toast(\"交易成功\");\n                let navigationExtras = {\n                    state: {\n                        tx: tx,\n                        status: 1 //0-成功，1:打包中，2:失败\n                    }\n                };\n                //前往交易结果页\n                this.router.navigate(['transaction-result'], navigationExtras);\n            } else {\n                let message = await this.helper.getTranslate('TRANSACTION_FAILED');\n                if (err.message.toLowerCase().indexOf('insufficient funds for gas') > -1) {\n                    message = await this.helper.getTranslate('BALANCE_INFFICIENT');\n                } else if (err.message.toLowerCase().indexOf('replacement transaction underpriced') > -1) {\n                    message = await this.helper.getTranslate('NONCE_ERROR');\n                } else {\n                    message = message + ': ' + err.message;\n                }\n                this.helper.toast(message)\n            }\n        })\n    }\n\n}\n"],"sourceRoot":"webpack:///"}