{"version":3,"sources":["src/app/pages/backup-mnemonic/backup-mnemonic.page.html","src/app/pages/backup-mnemonic/backup-mnemonic.module.ts","src/app/pages/backup-mnemonic/backup-mnemonic.page.scss","src/app/pages/backup-mnemonic/backup-mnemonic.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>{{ 'BACKUP_MNEMONIC' | translate }}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div class=\\\"main\\\">\\n        <div class=\\\"tips\\\" translate=\\\"\\\">CLICK_MNEMONIC</div>\\n        <div class=\\\"textarea clear\\\">\\n            <div class=\\\"word\\\" *ngFor=\\\"let item of backupList\\\">{{ item.mnemonic }}</div>\\n        </div>\\n\\n        <div class=\\\"mnemonic-grid clear\\\">\\n            <div class=\\\"grid\\\" tappable (click)=\\\"selectMnemonic(mnemonic, i)\\\"\\n                [ngClass]=\\\"isSelect(mnemonic, i) > -1 ? 'active' : ''\\\" *ngFor=\\\"let mnemonic of mnemonicList; let i = index\\\">\\n                {{mnemonic}}</div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"confirm-button bottom-button\\\" tappable (click)=\\\"verifyNmemonic()\\\"\\n        [ngClass]=\\\"backupList.length == mnemonicList.length ? '' : 'disabled'\\\" translate>VERIFY\\n    </div>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TranslateModule } from \"@ngx-translate/core\";\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BackupMnemonicPage } from './backup-mnemonic.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BackupMnemonicPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BackupMnemonicPage]\n})\nexport class BackupMnemonicPageModule { }\n","export default \".textarea {\\n  height: auto;\\n  min-height: 60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jeXBoZXIwMS9nby9zcmMvZ2l0aHViLmNvbS9jeXBoZXJpdW0vd2FsbGV0YXBwL3NyYy9hcHAvcGFnZXMvYmFja3VwLW1uZW1vbmljL2JhY2t1cC1tbmVtb25pYy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2JhY2t1cC1tbmVtb25pYy9iYWNrdXAtbW5lbW9uaWMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtFQUNBLGdCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9iYWNrdXAtbW5lbW9uaWMvYmFja3VwLW1uZW1vbmljLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50ZXh0YXJlYSB7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG59IiwiLnRleHRhcmVhIHtcbiAgaGVpZ2h0OiBhdXRvO1xuICBtaW4taGVpZ2h0OiA2MHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { GlobalService } from '../../providers/global/global.service';\nimport { HelperService } from '../../providers/helper/helper.service';\nimport { Storage } from '@ionic/storage';\nimport { Platform, NavController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-backup-mnemonic',\n    templateUrl: './backup-mnemonic.page.html',\n    styleUrls: ['./backup-mnemonic.page.scss'],\n})\nexport class BackupMnemonicPage implements OnInit {\n    mnemonicList = [];\n    backupList = [];\n    wallet;\n\n    constructor(\n        private router: Router,\n        private global: GlobalService,\n        private storage: Storage,\n        private helper: HelperService,\n        private navCtrl: NavController,\n        public activeRouter: ActivatedRoute,\n    ) {\n        if (this.router.getCurrentNavigation().extras.state) {\n            this.wallet = this.router.getCurrentNavigation().extras.state.wallet;\n\n            console.log(this.wallet.mnemonic)\n            //获取助记词\n            let mnemonicList = this.wallet.mnemonic.split(\" \");\n            this.mnemonicList = this.shuffle(mnemonicList);\n        }\n    }\n\n    shuffle(arr) {\n        function randomsort(a, b) {\n            return Math.random() > .5 ? -1 : 1;\n        }\n        arr.sort(randomsort);\n        return arr;\n    }\n\n    ngOnInit() {\n    }\n\n    selectMnemonic(mnemonic, i) {\n        // let index = this.backupList.indexOf(mnemonic);\n        let index = this.isSelect(mnemonic, i);\n        if (index > -1) {\n            this.backupList.splice(index, 1);\n        } else {\n            this.backupList.push({mnemonic,i});\n        }\n        console.log(this.backupList)\n    }\n    \n    isSelect(mnemonic, i){\n        return this.backupList.findIndex(item => item.mnemonic === mnemonic && item.i === i);\n    }\n\n    async verifyNmemonic() {\n        console.log(\"开始验证...\", this.mnemonicList, this.backupList);\n        let flag = true;\n        let mnemonicList = this.wallet.mnemonic.split(' ');\n        for (let i = 0; i < mnemonicList.length; i++) {\n            if (mnemonicList[i] != this.backupList[i].mnemonic) {\n                flag = false;\n                break;\n            }\n        }\n\n        if (flag) {\n            if (this.global.walletName) {\n                this.wallet.name = this.global.walletName;\n            }\n            this.helper.addWallet(this.wallet, this.global.paymentPassword);\n            this.global.walletName = \"\";\n            //前往首页\n            let navigationExtras: NavigationExtras = {\n                state: {\n                    privateKey: this.wallet.privateKey,\n                    action: 'create'\n                }\n            };\n            this.navCtrl.navigateRoot('payment-password', navigationExtras);\n        } else {\n            let error = await this.helper.getTranslate('MNEMONIC_WRONG');\n            this.helper.toast(error);\n            this.backupList = [];\n        }\n    }\n\n}\n"],"sourceRoot":"webpack:///","file":"pages-backup-mnemonic-backup-mnemonic-module-es5.js"}